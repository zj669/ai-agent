25-09-10.20:57:28.738 [background-preinit] INFO  Version                - HV000001: Hibernate Validator 8.0.3.Final
25-09-10.20:57:28.806 [main            ] INFO  AiagemtApplication     - Starting AiagemtApplication using Java 21.0.6 with PID 23424 (D:\java\ai-agent\ai-agent\aiagemt\target\classes started by 32183 in D:\java\ai-agent\ai-agent)
25-09-10.20:57:28.807 [main            ] INFO  AiagemtApplication     - The following 1 profile is active: "dev"
25-09-10.20:57:30.290 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-09-10.20:57:30.305 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-09-10.20:57:30.307 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-09-10.20:57:30.307 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.44]
25-09-10.20:57:30.437 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-09-10.20:57:30.437 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1574 ms
25-09-10.20:57:31.068 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store. Is empty: false
25-09-10.20:57:31.071 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store in schema: public
25-09-10.20:57:31.072 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-09-10.20:57:32.254 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-09-10.20:57:32.275 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path '/'
25-09-10.20:57:32.286 [main            ] INFO  AiagemtApplication     - Started AiagemtApplication in 4.449 seconds (process running for 5.669)
25-09-10.20:57:32.291 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配开始，配置: AiAgentAutoConfigProperties(enabled=true, clientIds=[3001])
25-09-10.20:57:32.292 [main            ] INFO  AiAgentAutoConfiguration - 开始自动装配AI客户端，客户端ID列表: [3001]
25-09-10.20:57:32.294 [main            ] INFO  RootNode               - 开始加载数据 commandTypeaiClientLoadDataStrategy
25-09-10.20:57:32.294 [main            ] INFO  ClientLoadDataStrategy - 开始异步加载数据
25-09-10.20:57:32.320 [main            ] ERROR AiAgentAutoConfiguration - AI Agent 自动装配失败
java.util.concurrent.CompletionException: org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.zj.aiagemt.mapper.entity.AiClientConfigMapper.selectList
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320)
	at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1807)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.zj.aiagemt.mapper.entity.AiClientConfigMapper.selectList
	at org.apache.ibatis.binding.MapperMethod$SqlCommand.<init>(MapperMethod.java:229)
	at org.apache.ibatis.binding.MapperMethod.<init>(MapperMethod.java:53)
	at org.apache.ibatis.binding.MapperProxy.lambda$cachedInvoker$0(MapperProxy.java:96)
	at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708)
	at org.apache.ibatis.util.MapUtil.computeIfAbsent(MapUtil.java:36)
	at org.apache.ibatis.binding.MapperProxy.cachedInvoker(MapperProxy.java:94)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy82.selectList(Unknown Source)
	at com.zj.aiagemt.mapper.impl.AgentRepository.queryApiByClientIdS(AgentRepository.java:65)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.zj.aiagemt.mapper.impl.AgentRepository$$SpringCGLIB$$0.queryApiByClientIdS(<generated>)
	at com.zj.aiagemt.service.agent.armory.strategy.ClientLoadDataStrategy.lambda$loadData$0(ClientLoadDataStrategy.java:26)
	at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804)
	... 3 common frames omitted
25-09-10.20:58:32.074 [SpringApplicationShutdownHook] INFO  GracefulShutdown       - Commencing graceful shutdown. Waiting for active requests to complete
25-09-10.20:58:32.100 [tomcat-shutdown ] INFO  GracefulShutdown       - Graceful shutdown complete
25-09-10.20:58:35.859 [background-preinit] INFO  Version                - HV000001: Hibernate Validator 8.0.3.Final
25-09-10.20:58:35.924 [main            ] INFO  AiagemtApplication     - Starting AiagemtApplication using Java 21.0.6 with PID 15844 (D:\java\ai-agent\ai-agent\aiagemt\target\classes started by 32183 in D:\java\ai-agent\ai-agent)
25-09-10.20:58:35.925 [main            ] INFO  AiagemtApplication     - The following 1 profile is active: "dev"
25-09-10.20:58:37.379 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-09-10.20:58:37.394 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-09-10.20:58:37.395 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-09-10.20:58:37.396 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.44]
25-09-10.20:58:37.508 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-09-10.20:58:37.509 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1536 ms
25-09-10.20:58:38.109 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store. Is empty: false
25-09-10.20:58:38.112 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store in schema: public
25-09-10.20:58:38.112 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-09-10.20:58:39.172 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-09-10.20:58:39.191 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path '/'
25-09-10.20:58:39.199 [main            ] INFO  AiagemtApplication     - Started AiagemtApplication in 4.176 seconds (process running for 5.051)
25-09-10.20:58:39.203 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配开始，配置: AiAgentAutoConfigProperties(enabled=true, clientIds=[3001])
25-09-10.20:58:39.204 [main            ] INFO  AiAgentAutoConfiguration - 开始自动装配AI客户端，客户端ID列表: [3001]
25-09-10.20:58:39.206 [main            ] INFO  RootNode               - 开始加载数据 commandTypeaiClientLoadDataStrategy
25-09-10.20:58:39.206 [main            ] INFO  ClientLoadDataStrategy - 开始异步加载数据
25-09-10.20:58:39.230 [main            ] ERROR AiAgentAutoConfiguration - AI Agent 自动装配失败
java.util.concurrent.CompletionException: org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.zj.aiagemt.mapper.entity.AiClientConfigMapper.selectList
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320)
	at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1807)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.zj.aiagemt.mapper.entity.AiClientConfigMapper.selectList
	at org.apache.ibatis.binding.MapperMethod$SqlCommand.<init>(MapperMethod.java:229)
	at org.apache.ibatis.binding.MapperMethod.<init>(MapperMethod.java:53)
	at org.apache.ibatis.binding.MapperProxy.lambda$cachedInvoker$0(MapperProxy.java:96)
	at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708)
	at org.apache.ibatis.util.MapUtil.computeIfAbsent(MapUtil.java:36)
	at org.apache.ibatis.binding.MapperProxy.cachedInvoker(MapperProxy.java:94)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy82.selectList(Unknown Source)
	at com.zj.aiagemt.mapper.impl.AgentRepository.queryApiByClientIdS(AgentRepository.java:65)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.zj.aiagemt.mapper.impl.AgentRepository$$SpringCGLIB$$0.queryApiByClientIdS(<generated>)
	at com.zj.aiagemt.service.agent.armory.strategy.ClientLoadDataStrategy.lambda$loadData$0(ClientLoadDataStrategy.java:26)
	at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804)
	... 3 common frames omitted
25-09-10.21:01:20.760 [SpringApplicationShutdownHook] INFO  GracefulShutdown       - Commencing graceful shutdown. Waiting for active requests to complete
25-09-10.21:01:20.788 [tomcat-shutdown ] INFO  GracefulShutdown       - Graceful shutdown complete
25-09-10.21:01:27.158 [background-preinit] INFO  Version                - HV000001: Hibernate Validator 8.0.3.Final
25-09-10.21:01:27.218 [main            ] INFO  AiagemtApplication     - Starting AiagemtApplication using Java 21.0.6 with PID 24076 (D:\java\ai-agent\ai-agent\aiagemt\target\classes started by 32183 in D:\java\ai-agent\ai-agent)
25-09-10.21:01:27.219 [main            ] INFO  AiagemtApplication     - The following 1 profile is active: "dev"
25-09-10.21:01:28.997 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-09-10.21:01:29.011 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-09-10.21:01:29.013 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-09-10.21:01:29.013 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.44]
25-09-10.21:01:29.123 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-09-10.21:01:29.123 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1857 ms
25-09-10.21:01:29.725 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store. Is empty: false
25-09-10.21:01:29.728 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store in schema: public
25-09-10.21:01:29.729 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-09-10.21:01:30.718 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-09-10.21:01:30.743 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path '/'
25-09-10.21:01:30.752 [main            ] INFO  AiagemtApplication     - Started AiagemtApplication in 4.404 seconds (process running for 5.189)
25-09-10.21:01:30.758 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配开始，配置: AiAgentAutoConfigProperties(enabled=true, clientIds=[3001])
25-09-10.21:01:30.759 [main            ] INFO  AiAgentAutoConfiguration - 开始自动装配AI客户端，客户端ID列表: [3001]
25-09-10.21:01:30.761 [main            ] INFO  RootNode               - 开始加载数据 commandTypeaiClientLoadDataStrategy
25-09-10.21:01:30.762 [main            ] INFO  ClientLoadDataStrategy - 开始异步加载数据
25-09-10.21:01:30.789 [main            ] ERROR AiAgentAutoConfiguration - AI Agent 自动装配失败
java.util.concurrent.CompletionException: org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.zj.aiagemt.mapper.entity.AiClientConfigMapper.selectList
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320)
	at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1807)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.zj.aiagemt.mapper.entity.AiClientConfigMapper.selectList
	at org.apache.ibatis.binding.MapperMethod$SqlCommand.<init>(MapperMethod.java:229)
	at org.apache.ibatis.binding.MapperMethod.<init>(MapperMethod.java:53)
	at org.apache.ibatis.binding.MapperProxy.lambda$cachedInvoker$0(MapperProxy.java:96)
	at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708)
	at org.apache.ibatis.util.MapUtil.computeIfAbsent(MapUtil.java:36)
	at org.apache.ibatis.binding.MapperProxy.cachedInvoker(MapperProxy.java:94)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy82.selectList(Unknown Source)
	at com.zj.aiagemt.mapper.impl.AgentRepository.queryApiByClientIdS(AgentRepository.java:65)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.zj.aiagemt.mapper.impl.AgentRepository$$SpringCGLIB$$0.queryApiByClientIdS(<generated>)
	at com.zj.aiagemt.service.agent.armory.strategy.ClientLoadDataStrategy.lambda$loadData$0(ClientLoadDataStrategy.java:26)
	at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804)
	... 3 common frames omitted
25-09-10.21:02:28.531 [SpringApplicationShutdownHook] INFO  GracefulShutdown       - Commencing graceful shutdown. Waiting for active requests to complete
25-09-10.21:02:29.040 [tomcat-shutdown ] INFO  GracefulShutdown       - Graceful shutdown complete
25-09-10.21:02:35.876 [background-preinit] INFO  Version                - HV000001: Hibernate Validator 8.0.3.Final
25-09-10.21:02:35.953 [main            ] INFO  AiagemtApplication     - Starting AiagemtApplication using Java 21.0.6 with PID 10336 (D:\java\ai-agent\ai-agent\aiagemt\target\classes started by 32183 in D:\java\ai-agent\ai-agent)
25-09-10.21:02:35.954 [main            ] INFO  AiagemtApplication     - The following 1 profile is active: "dev"
25-09-10.21:02:37.073 [main            ] WARN  ClassPathMapperScanner - Skipping MapperFactoryBean with name 'aiAgentFlowConfigMapper' and 'com.zj.aiagemt.mapper.entity.AiAgentFlowConfigMapper' mapperInterface. Bean already defined with the same name!
25-09-10.21:02:37.073 [main            ] WARN  ClassPathMapperScanner - Skipping MapperFactoryBean with name 'aiAgentMapper' and 'com.zj.aiagemt.mapper.entity.AiAgentMapper' mapperInterface. Bean already defined with the same name!
25-09-10.21:02:37.073 [main            ] WARN  ClassPathMapperScanner - Skipping MapperFactoryBean with name 'aiAgentTaskScheduleMapper' and 'com.zj.aiagemt.mapper.entity.AiAgentTaskScheduleMapper' mapperInterface. Bean already defined with the same name!
25-09-10.21:02:37.073 [main            ] WARN  ClassPathMapperScanner - Skipping MapperFactoryBean with name 'aiClientAdvisorMapper' and 'com.zj.aiagemt.mapper.entity.AiClientAdvisorMapper' mapperInterface. Bean already defined with the same name!
25-09-10.21:02:37.073 [main            ] WARN  ClassPathMapperScanner - Skipping MapperFactoryBean with name 'aiClientApiMapper' and 'com.zj.aiagemt.mapper.entity.AiClientApiMapper' mapperInterface. Bean already defined with the same name!
25-09-10.21:02:37.073 [main            ] WARN  ClassPathMapperScanner - Skipping MapperFactoryBean with name 'aiClientConfigMapper' and 'com.zj.aiagemt.mapper.entity.AiClientConfigMapper' mapperInterface. Bean already defined with the same name!
25-09-10.21:02:37.073 [main            ] WARN  ClassPathMapperScanner - Skipping MapperFactoryBean with name 'aiClientMapper' and 'com.zj.aiagemt.mapper.entity.AiClientMapper' mapperInterface. Bean already defined with the same name!
25-09-10.21:02:37.073 [main            ] WARN  ClassPathMapperScanner - Skipping MapperFactoryBean with name 'aiClientModelMapper' and 'com.zj.aiagemt.mapper.entity.AiClientModelMapper' mapperInterface. Bean already defined with the same name!
25-09-10.21:02:37.073 [main            ] WARN  ClassPathMapperScanner - Skipping MapperFactoryBean with name 'aiClientRagOrderMapper' and 'com.zj.aiagemt.mapper.entity.AiClientRagOrderMapper' mapperInterface. Bean already defined with the same name!
25-09-10.21:02:37.073 [main            ] WARN  ClassPathMapperScanner - Skipping MapperFactoryBean with name 'aiClientSystemPromptMapper' and 'com.zj.aiagemt.mapper.entity.AiClientSystemPromptMapper' mapperInterface. Bean already defined with the same name!
25-09-10.21:02:37.074 [main            ] WARN  ClassPathMapperScanner - Skipping MapperFactoryBean with name 'aiClientToolMcpMapper' and 'com.zj.aiagemt.mapper.entity.AiClientToolMcpMapper' mapperInterface. Bean already defined with the same name!
25-09-10.21:02:37.074 [main            ] WARN  ClassPathMapperScanner - No MyBatis mapper was found in '[com.zj.aiagemt.mapper.entity]' package. Please check your configuration.
25-09-10.21:02:37.645 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-09-10.21:02:37.659 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-09-10.21:02:37.661 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-09-10.21:02:37.661 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.44]
25-09-10.21:02:37.782 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-09-10.21:02:37.782 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1771 ms
25-09-10.21:02:38.404 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store. Is empty: false
25-09-10.21:02:38.407 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store in schema: public
25-09-10.21:02:38.407 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-09-10.21:02:39.574 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-09-10.21:02:39.595 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path '/'
25-09-10.21:02:39.604 [main            ] INFO  AiagemtApplication     - Started AiagemtApplication in 4.485 seconds (process running for 5.295)
25-09-10.21:02:39.607 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配开始，配置: AiAgentAutoConfigProperties(enabled=true, clientIds=[3001])
25-09-10.21:02:39.608 [main            ] INFO  AiAgentAutoConfiguration - 开始自动装配AI客户端，客户端ID列表: [3001]
25-09-10.21:02:39.609 [main            ] INFO  RootNode               - 开始加载数据 commandTypeaiClientLoadDataStrategy
25-09-10.21:02:39.610 [main            ] INFO  ClientLoadDataStrategy - 开始异步加载数据
25-09-10.21:02:39.633 [main            ] ERROR AiAgentAutoConfiguration - AI Agent 自动装配失败
java.util.concurrent.CompletionException: org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.zj.aiagemt.mapper.entity.AiClientConfigMapper.selectList
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320)
	at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1807)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.zj.aiagemt.mapper.entity.AiClientConfigMapper.selectList
	at org.apache.ibatis.binding.MapperMethod$SqlCommand.<init>(MapperMethod.java:229)
	at org.apache.ibatis.binding.MapperMethod.<init>(MapperMethod.java:53)
	at org.apache.ibatis.binding.MapperProxy.lambda$cachedInvoker$0(MapperProxy.java:96)
	at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708)
	at org.apache.ibatis.util.MapUtil.computeIfAbsent(MapUtil.java:36)
	at org.apache.ibatis.binding.MapperProxy.cachedInvoker(MapperProxy.java:94)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy82.selectList(Unknown Source)
	at com.zj.aiagemt.mapper.impl.AgentRepository.queryApiByClientIdS(AgentRepository.java:65)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.zj.aiagemt.mapper.impl.AgentRepository$$SpringCGLIB$$0.queryApiByClientIdS(<generated>)
	at com.zj.aiagemt.service.agent.armory.strategy.ClientLoadDataStrategy.lambda$loadData$0(ClientLoadDataStrategy.java:26)
	at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804)
	... 3 common frames omitted
25-09-10.21:03:34.131 [SpringApplicationShutdownHook] INFO  GracefulShutdown       - Commencing graceful shutdown. Waiting for active requests to complete
25-09-10.21:03:34.290 [tomcat-shutdown ] INFO  GracefulShutdown       - Graceful shutdown complete
25-09-10.21:03:50.995 [background-preinit] INFO  Version                - HV000001: Hibernate Validator 8.0.3.Final
25-09-10.21:03:51.056 [main            ] INFO  AiagemtApplication     - Starting AiagemtApplication using Java 21.0.6 with PID 81412 (D:\java\ai-agent\ai-agent\aiagemt\target\classes started by 32183 in D:\java\ai-agent\ai-agent)
25-09-10.21:03:51.056 [main            ] INFO  AiagemtApplication     - The following 1 profile is active: "dev"
25-09-10.21:03:51.958 [main            ] WARN  ClassPathMapperScanner - Skipping MapperFactoryBean with name 'aiAgentFlowConfigMapper' and 'com.zj.aiagemt.mapper.entity.AiAgentFlowConfigMapper' mapperInterface. Bean already defined with the same name!
25-09-10.21:03:51.958 [main            ] WARN  ClassPathMapperScanner - Skipping MapperFactoryBean with name 'aiAgentMapper' and 'com.zj.aiagemt.mapper.entity.AiAgentMapper' mapperInterface. Bean already defined with the same name!
25-09-10.21:03:51.958 [main            ] WARN  ClassPathMapperScanner - Skipping MapperFactoryBean with name 'aiAgentTaskScheduleMapper' and 'com.zj.aiagemt.mapper.entity.AiAgentTaskScheduleMapper' mapperInterface. Bean already defined with the same name!
25-09-10.21:03:51.959 [main            ] WARN  ClassPathMapperScanner - Skipping MapperFactoryBean with name 'aiClientAdvisorMapper' and 'com.zj.aiagemt.mapper.entity.AiClientAdvisorMapper' mapperInterface. Bean already defined with the same name!
25-09-10.21:03:51.959 [main            ] WARN  ClassPathMapperScanner - Skipping MapperFactoryBean with name 'aiClientApiMapper' and 'com.zj.aiagemt.mapper.entity.AiClientApiMapper' mapperInterface. Bean already defined with the same name!
25-09-10.21:03:51.959 [main            ] WARN  ClassPathMapperScanner - Skipping MapperFactoryBean with name 'aiClientConfigMapper' and 'com.zj.aiagemt.mapper.entity.AiClientConfigMapper' mapperInterface. Bean already defined with the same name!
25-09-10.21:03:51.959 [main            ] WARN  ClassPathMapperScanner - Skipping MapperFactoryBean with name 'aiClientMapper' and 'com.zj.aiagemt.mapper.entity.AiClientMapper' mapperInterface. Bean already defined with the same name!
25-09-10.21:03:51.959 [main            ] WARN  ClassPathMapperScanner - Skipping MapperFactoryBean with name 'aiClientModelMapper' and 'com.zj.aiagemt.mapper.entity.AiClientModelMapper' mapperInterface. Bean already defined with the same name!
25-09-10.21:03:51.959 [main            ] WARN  ClassPathMapperScanner - Skipping MapperFactoryBean with name 'aiClientRagOrderMapper' and 'com.zj.aiagemt.mapper.entity.AiClientRagOrderMapper' mapperInterface. Bean already defined with the same name!
25-09-10.21:03:51.959 [main            ] WARN  ClassPathMapperScanner - Skipping MapperFactoryBean with name 'aiClientSystemPromptMapper' and 'com.zj.aiagemt.mapper.entity.AiClientSystemPromptMapper' mapperInterface. Bean already defined with the same name!
25-09-10.21:03:51.959 [main            ] WARN  ClassPathMapperScanner - Skipping MapperFactoryBean with name 'aiClientToolMcpMapper' and 'com.zj.aiagemt.mapper.entity.AiClientToolMcpMapper' mapperInterface. Bean already defined with the same name!
25-09-10.21:03:51.960 [main            ] WARN  ClassPathMapperScanner - No MyBatis mapper was found in '[com.zj.aiagemt.mapper.entity]' package. Please check your configuration.
25-09-10.21:03:52.510 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-09-10.21:03:52.525 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-09-10.21:03:52.527 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-09-10.21:03:52.527 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.44]
25-09-10.21:03:52.644 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-09-10.21:03:52.645 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1543 ms
25-09-10.21:03:53.264 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store. Is empty: false
25-09-10.21:03:53.269 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store in schema: public
25-09-10.21:03:53.269 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-09-10.21:03:54.579 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-09-10.21:03:54.614 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path '/'
25-09-10.21:03:54.622 [main            ] INFO  AiagemtApplication     - Started AiagemtApplication in 4.459 seconds (process running for 5.62)
25-09-10.21:03:54.627 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配开始，配置: AiAgentAutoConfigProperties(enabled=true, clientIds=[3001])
25-09-10.21:03:54.628 [main            ] INFO  AiAgentAutoConfiguration - 开始自动装配AI客户端，客户端ID列表: [3001]
25-09-10.21:03:54.630 [main            ] INFO  RootNode               - 开始加载数据 commandTypeaiClientLoadDataStrategy
25-09-10.21:03:54.630 [main            ] INFO  ClientLoadDataStrategy - 开始异步加载数据
25-09-10.21:03:54.654 [main            ] ERROR AiAgentAutoConfiguration - AI Agent 自动装配失败
java.util.concurrent.CompletionException: org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.zj.aiagemt.mapper.entity.AiClientConfigMapper.selectList
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320)
	at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1807)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.zj.aiagemt.mapper.entity.AiClientConfigMapper.selectList
	at org.apache.ibatis.binding.MapperMethod$SqlCommand.<init>(MapperMethod.java:229)
	at org.apache.ibatis.binding.MapperMethod.<init>(MapperMethod.java:53)
	at org.apache.ibatis.binding.MapperProxy.lambda$cachedInvoker$0(MapperProxy.java:96)
	at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708)
	at org.apache.ibatis.util.MapUtil.computeIfAbsent(MapUtil.java:36)
	at org.apache.ibatis.binding.MapperProxy.cachedInvoker(MapperProxy.java:94)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy82.selectList(Unknown Source)
	at com.zj.aiagemt.mapper.impl.AgentRepository.queryApiByClientIdS(AgentRepository.java:65)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.zj.aiagemt.mapper.impl.AgentRepository$$SpringCGLIB$$0.queryApiByClientIdS(<generated>)
	at com.zj.aiagemt.service.agent.armory.strategy.ClientLoadDataStrategy.lambda$loadData$0(ClientLoadDataStrategy.java:26)
	at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804)
	... 3 common frames omitted
25-09-10.21:06:32.246 [background-preinit] INFO  Version                - HV000001: Hibernate Validator 8.0.3.Final
25-09-10.21:06:32.302 [main            ] INFO  AiagemtApplication     - Starting AiagemtApplication using Java 21.0.6 with PID 8048 (D:\java\ai-agent\ai-agent\aiagemt\target\classes started by 32183 in D:\java\ai-agent\ai-agent)
25-09-10.21:06:32.303 [main            ] INFO  AiagemtApplication     - The following 1 profile is active: "dev"
25-09-10.21:06:33.361 [main            ] WARN  ClassPathMapperScanner - Skipping MapperFactoryBean with name 'aiAgentFlowConfigMapper' and 'com.zj.aiagemt.mapper.entity.AiAgentFlowConfigMapper' mapperInterface. Bean already defined with the same name!
25-09-10.21:06:33.361 [main            ] WARN  ClassPathMapperScanner - Skipping MapperFactoryBean with name 'aiAgentMapper' and 'com.zj.aiagemt.mapper.entity.AiAgentMapper' mapperInterface. Bean already defined with the same name!
25-09-10.21:06:33.361 [main            ] WARN  ClassPathMapperScanner - Skipping MapperFactoryBean with name 'aiAgentTaskScheduleMapper' and 'com.zj.aiagemt.mapper.entity.AiAgentTaskScheduleMapper' mapperInterface. Bean already defined with the same name!
25-09-10.21:06:33.361 [main            ] WARN  ClassPathMapperScanner - Skipping MapperFactoryBean with name 'aiClientAdvisorMapper' and 'com.zj.aiagemt.mapper.entity.AiClientAdvisorMapper' mapperInterface. Bean already defined with the same name!
25-09-10.21:06:33.361 [main            ] WARN  ClassPathMapperScanner - Skipping MapperFactoryBean with name 'aiClientApiMapper' and 'com.zj.aiagemt.mapper.entity.AiClientApiMapper' mapperInterface. Bean already defined with the same name!
25-09-10.21:06:33.361 [main            ] WARN  ClassPathMapperScanner - Skipping MapperFactoryBean with name 'aiClientConfigMapper' and 'com.zj.aiagemt.mapper.entity.AiClientConfigMapper' mapperInterface. Bean already defined with the same name!
25-09-10.21:06:33.361 [main            ] WARN  ClassPathMapperScanner - Skipping MapperFactoryBean with name 'aiClientMapper' and 'com.zj.aiagemt.mapper.entity.AiClientMapper' mapperInterface. Bean already defined with the same name!
25-09-10.21:06:33.361 [main            ] WARN  ClassPathMapperScanner - Skipping MapperFactoryBean with name 'aiClientModelMapper' and 'com.zj.aiagemt.mapper.entity.AiClientModelMapper' mapperInterface. Bean already defined with the same name!
25-09-10.21:06:33.361 [main            ] WARN  ClassPathMapperScanner - Skipping MapperFactoryBean with name 'aiClientRagOrderMapper' and 'com.zj.aiagemt.mapper.entity.AiClientRagOrderMapper' mapperInterface. Bean already defined with the same name!
25-09-10.21:06:33.362 [main            ] WARN  ClassPathMapperScanner - Skipping MapperFactoryBean with name 'aiClientSystemPromptMapper' and 'com.zj.aiagemt.mapper.entity.AiClientSystemPromptMapper' mapperInterface. Bean already defined with the same name!
25-09-10.21:06:33.362 [main            ] WARN  ClassPathMapperScanner - Skipping MapperFactoryBean with name 'aiClientToolMcpMapper' and 'com.zj.aiagemt.mapper.entity.AiClientToolMcpMapper' mapperInterface. Bean already defined with the same name!
25-09-10.21:06:33.362 [main            ] WARN  ClassPathMapperScanner - No MyBatis mapper was found in '[com.zj.aiagemt.mapper.entity]' package. Please check your configuration.
25-09-10.21:06:33.910 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-09-10.21:06:33.930 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-09-10.21:06:33.932 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-09-10.21:06:33.932 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.44]
25-09-10.21:06:34.076 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-09-10.21:06:34.076 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1728 ms
25-09-10.21:06:34.800 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store. Is empty: false
25-09-10.21:06:34.804 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store in schema: public
25-09-10.21:06:34.804 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-09-10.21:06:36.131 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-09-10.21:06:36.151 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path '/'
25-09-10.21:06:36.159 [main            ] INFO  AiagemtApplication     - Started AiagemtApplication in 5.084 seconds (process running for 7.052)
25-09-10.21:06:36.164 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配开始，配置: AiAgentAutoConfigProperties(enabled=true, clientIds=[3001])
25-09-10.21:06:36.164 [main            ] INFO  AiAgentAutoConfiguration - 开始自动装配AI客户端，客户端ID列表: [3001]
25-09-10.21:06:36.166 [main            ] INFO  RootNode               - 开始加载数据 commandTypeaiClientLoadDataStrategy
25-09-10.21:06:36.166 [main            ] INFO  ClientLoadDataStrategy - 开始异步加载数据
25-09-10.21:06:36.190 [main            ] ERROR AiAgentAutoConfiguration - AI Agent 自动装配失败
java.util.concurrent.CompletionException: org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.zj.aiagemt.mapper.entity.AiClientConfigMapper.selectList
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320)
	at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1807)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.zj.aiagemt.mapper.entity.AiClientConfigMapper.selectList
	at org.apache.ibatis.binding.MapperMethod$SqlCommand.<init>(MapperMethod.java:229)
	at org.apache.ibatis.binding.MapperMethod.<init>(MapperMethod.java:53)
	at org.apache.ibatis.binding.MapperProxy.lambda$cachedInvoker$0(MapperProxy.java:96)
	at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708)
	at org.apache.ibatis.util.MapUtil.computeIfAbsent(MapUtil.java:36)
	at org.apache.ibatis.binding.MapperProxy.cachedInvoker(MapperProxy.java:94)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy82.selectList(Unknown Source)
	at com.zj.aiagemt.mapper.impl.AgentRepository.queryApiByClientIdS(AgentRepository.java:65)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.zj.aiagemt.mapper.impl.AgentRepository$$SpringCGLIB$$0.queryApiByClientIdS(<generated>)
	at com.zj.aiagemt.service.agent.armory.strategy.ClientLoadDataStrategy.lambda$loadData$0(ClientLoadDataStrategy.java:26)
	at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804)
	... 3 common frames omitted
25-09-10.21:07:21.386 [SpringApplicationShutdownHook] INFO  GracefulShutdown       - Commencing graceful shutdown. Waiting for active requests to complete
25-09-10.21:07:21.431 [tomcat-shutdown ] INFO  GracefulShutdown       - Graceful shutdown complete
25-09-10.21:07:44.939 [background-preinit] INFO  Version                - HV000001: Hibernate Validator 8.0.3.Final
25-09-10.21:07:44.999 [main            ] INFO  AiagemtApplication     - Starting AiagemtApplication using Java 21.0.6 with PID 23968 (D:\java\ai-agent\ai-agent\aiagemt\target\classes started by 32183 in D:\java\ai-agent\ai-agent)
25-09-10.21:07:44.999 [main            ] INFO  AiagemtApplication     - The following 1 profile is active: "dev"
25-09-10.21:07:46.247 [main            ] WARN  ClassPathMapperScanner - No MyBatis mapper was found in '[com.zj.aiagemt.mapper.entity]' package. Please check your configuration.
25-09-10.21:07:46.250 [main            ] WARN  ClassPathMapperScanner - No MyBatis mapper was found in '[com.zj.aiagemt.mapper.entity]' package. Please check your configuration.
25-09-10.21:07:46.858 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-09-10.21:07:46.873 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-09-10.21:07:46.875 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-09-10.21:07:46.875 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.44]
25-09-10.21:07:46.989 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-09-10.21:07:46.989 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1940 ms
25-09-10.21:07:47.577 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store. Is empty: false
25-09-10.21:07:47.581 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store in schema: public
25-09-10.21:07:47.581 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-09-10.21:07:47.603 [main            ] WARN  AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'aiAgentAutoConfiguration': Injection of resource dependencies failed
25-09-10.21:07:47.605 [main            ] INFO  StandardService        - Stopping service [Tomcat]
25-09-10.21:07:47.616 [main            ] INFO  ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
25-09-10.21:07:47.636 [main            ] ERROR LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.zj.aiagemt.service.agent.armory.factory.DefaultAgentArmoryFactory required a bean of type 'com.zj.aiagemt.mapper.AiAgentMapper' that could not be found.


Action:

Consider defining a bean of type 'com.zj.aiagemt.mapper.AiAgentMapper' in your configuration.

25-09-10.21:08:12.734 [background-preinit] INFO  Version                - HV000001: Hibernate Validator 8.0.3.Final
25-09-10.21:08:12.787 [main            ] INFO  AiagemtApplication     - Starting AiagemtApplication using Java 21.0.6 with PID 39568 (D:\java\ai-agent\ai-agent\aiagemt\target\classes started by 32183 in D:\java\ai-agent\ai-agent)
25-09-10.21:08:12.788 [main            ] INFO  AiagemtApplication     - The following 1 profile is active: "dev"
25-09-10.21:08:13.776 [main            ] WARN  ClassPathMapperScanner - No MyBatis mapper was found in '[com.zj.aiagemt.mapper.entity]' package. Please check your configuration.
25-09-10.21:08:14.308 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-09-10.21:08:14.323 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-09-10.21:08:14.325 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-09-10.21:08:14.325 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.44]
25-09-10.21:08:14.451 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-09-10.21:08:14.452 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1617 ms
25-09-10.21:08:15.119 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store. Is empty: false
25-09-10.21:08:15.122 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store in schema: public
25-09-10.21:08:15.122 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-09-10.21:08:15.336 [main            ] WARN  AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'aiAgentControlle': Injection of resource dependencies failed
25-09-10.21:08:15.339 [main            ] INFO  StandardService        - Stopping service [Tomcat]
25-09-10.21:08:15.351 [main            ] INFO  ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
25-09-10.21:08:15.370 [main            ] ERROR LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.zj.aiagemt.service.agent.execute.auto.factory.DefaultAutoAgentExecuteStrategyFactory required a single bean, but 2 were found:
	- agentRepository: defined in file [D:\java\ai-agent\ai-agent\aiagemt\target\classes\com\zj\aiagemt\mapper\impl\AgentRepository.class]
	- IAgentRepository: defined in file [D:\java\ai-agent\ai-agent\aiagemt\target\classes\com\zj\aiagemt\mapper\IAgentRepository.class]

This may be due to missing parameter name information

Action:

Consider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed

Ensure that your compiler is configured to use the '-parameters' flag.
You may need to update both your build tool settings as well as your IDE.
(See https://github.com/spring-projects/spring-framework/wiki/Spring-Framework-6.1-Release-Notes#parameter-name-retention)


25-09-10.21:08:45.262 [background-preinit] INFO  Version                - HV000001: Hibernate Validator 8.0.3.Final
25-09-10.21:08:45.325 [main            ] INFO  AiagemtApplication     - Starting AiagemtApplication using Java 21.0.6 with PID 19812 (D:\java\ai-agent\ai-agent\aiagemt\target\classes started by 32183 in D:\java\ai-agent\ai-agent)
25-09-10.21:08:45.325 [main            ] INFO  AiagemtApplication     - The following 1 profile is active: "dev"
25-09-10.21:08:47.989 [main            ] WARN  ClassPathMapperScanner - No MyBatis mapper was found in '[com.zj.aiagemt.mapper.entity]' package. Please check your configuration.
25-09-10.21:08:49.060 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-09-10.21:08:49.082 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-09-10.21:08:49.085 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-09-10.21:08:49.086 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.44]
25-09-10.21:08:49.283 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-09-10.21:08:49.284 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3896 ms
25-09-10.21:08:50.025 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store. Is empty: false
25-09-10.21:08:50.029 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store in schema: public
25-09-10.21:08:50.029 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-09-10.21:08:50.226 [main            ] WARN  AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'aiAgentControlle': Injection of resource dependencies failed
25-09-10.21:08:50.229 [main            ] INFO  StandardService        - Stopping service [Tomcat]
25-09-10.21:08:50.241 [main            ] INFO  ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
25-09-10.21:08:50.260 [main            ] ERROR LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.zj.aiagemt.service.agent.execute.auto.factory.DefaultAutoAgentExecuteStrategyFactory required a single bean, but 2 were found:
	- agentRepository: defined in file [D:\java\ai-agent\ai-agent\aiagemt\target\classes\com\zj\aiagemt\mapper\impl\AgentRepository.class]
	- IAgentRepository: defined in file [D:\java\ai-agent\ai-agent\aiagemt\target\classes\com\zj\aiagemt\mapper\IAgentRepository.class]

This may be due to missing parameter name information

Action:

Consider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed

Ensure that your compiler is configured to use the '-parameters' flag.
You may need to update both your build tool settings as well as your IDE.
(See https://github.com/spring-projects/spring-framework/wiki/Spring-Framework-6.1-Release-Notes#parameter-name-retention)


25-09-10.21:09:18.421 [background-preinit] INFO  Version                - HV000001: Hibernate Validator 8.0.3.Final
25-09-10.21:09:18.480 [main            ] INFO  AiagemtApplication     - Starting AiagemtApplication using Java 21.0.6 with PID 28140 (D:\java\ai-agent\ai-agent\aiagemt\target\classes started by 32183 in D:\java\ai-agent\ai-agent)
25-09-10.21:09:18.481 [main            ] INFO  AiagemtApplication     - The following 1 profile is active: "dev"
25-09-10.21:09:19.422 [main            ] WARN  ClassPathMapperScanner - No MyBatis mapper was found in '[com.zj.aiagemt.mapper.entity]' package. Please check your configuration.
25-09-10.21:09:19.988 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-09-10.21:09:20.005 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-09-10.21:09:20.007 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-09-10.21:09:20.007 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.44]
25-09-10.21:09:20.128 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-09-10.21:09:20.128 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1598 ms
25-09-10.21:09:20.733 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store. Is empty: false
25-09-10.21:09:20.736 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store in schema: public
25-09-10.21:09:20.736 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-09-10.21:09:21.733 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-09-10.21:09:21.754 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path '/'
25-09-10.21:09:21.762 [main            ] INFO  AiagemtApplication     - Started AiagemtApplication in 4.121 seconds (process running for 5.316)
25-09-10.21:09:21.766 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配开始，配置: AiAgentAutoConfigProperties(enabled=true, clientIds=[3001])
25-09-10.21:09:21.767 [main            ] INFO  AiAgentAutoConfiguration - 开始自动装配AI客户端，客户端ID列表: [3001]
25-09-10.21:09:21.768 [main            ] INFO  RootNode               - 开始加载数据 commandTypeaiClientLoadDataStrategy
25-09-10.21:09:21.768 [main            ] INFO  ClientLoadDataStrategy - 开始异步加载数据
25-09-10.21:09:21.793 [main            ] ERROR AiAgentAutoConfiguration - AI Agent 自动装配失败
java.util.concurrent.CompletionException: org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.zj.aiagemt.mapper.AiClientConfigMapper.selectList
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320)
	at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1807)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.zj.aiagemt.mapper.AiClientConfigMapper.selectList
	at org.apache.ibatis.binding.MapperMethod$SqlCommand.<init>(MapperMethod.java:229)
	at org.apache.ibatis.binding.MapperMethod.<init>(MapperMethod.java:53)
	at org.apache.ibatis.binding.MapperProxy.lambda$cachedInvoker$0(MapperProxy.java:96)
	at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708)
	at org.apache.ibatis.util.MapUtil.computeIfAbsent(MapUtil.java:36)
	at org.apache.ibatis.binding.MapperProxy.cachedInvoker(MapperProxy.java:94)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy82.selectList(Unknown Source)
	at com.zj.aiagemt.mapper.impl.AgentRepository.queryApiByClientIdS(AgentRepository.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.zj.aiagemt.mapper.impl.AgentRepository$$SpringCGLIB$$0.queryApiByClientIdS(<generated>)
	at com.zj.aiagemt.service.agent.armory.strategy.ClientLoadDataStrategy.lambda$0(ClientLoadDataStrategy.java:26)
	at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804)
	... 3 common frames omitted
25-09-10.21:09:42.713 [SpringApplicationShutdownHook] INFO  GracefulShutdown       - Commencing graceful shutdown. Waiting for active requests to complete
25-09-10.21:09:42.734 [tomcat-shutdown ] INFO  GracefulShutdown       - Graceful shutdown complete
25-09-10.21:09:48.505 [background-preinit] INFO  Version                - HV000001: Hibernate Validator 8.0.3.Final
25-09-10.21:09:48.560 [main            ] INFO  AiagemtApplication     - Starting AiagemtApplication using Java 21.0.6 with PID 17692 (D:\java\ai-agent\ai-agent\aiagemt\target\classes started by 32183 in D:\java\ai-agent\ai-agent)
25-09-10.21:09:48.562 [main            ] INFO  AiagemtApplication     - The following 1 profile is active: "dev"
25-09-10.21:09:49.491 [main            ] WARN  ClassPathMapperScanner - No MyBatis mapper was found in '[com.zj.aiagemt.mapper.entity]' package. Please check your configuration.
25-09-10.21:09:50.030 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-09-10.21:09:50.045 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-09-10.21:09:50.047 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-09-10.21:09:50.047 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.44]
25-09-10.21:09:50.162 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-09-10.21:09:50.162 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1553 ms
25-09-10.21:09:50.753 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store. Is empty: false
25-09-10.21:09:50.756 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store in schema: public
25-09-10.21:09:50.757 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-09-10.21:09:51.772 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-09-10.21:09:51.792 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path '/'
25-09-10.21:09:51.801 [main            ] INFO  AiagemtApplication     - Started AiagemtApplication in 4.074 seconds (process running for 4.949)
25-09-10.21:09:51.805 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配开始，配置: AiAgentAutoConfigProperties(enabled=true, clientIds=[3001])
25-09-10.21:09:51.806 [main            ] INFO  AiAgentAutoConfiguration - 开始自动装配AI客户端，客户端ID列表: [3001]
25-09-10.21:09:51.808 [main            ] INFO  RootNode               - 开始加载数据 commandTypeaiClientLoadDataStrategy
25-09-10.21:09:51.808 [main            ] INFO  ClientLoadDataStrategy - 开始异步加载数据
25-09-10.21:09:51.834 [main            ] ERROR AiAgentAutoConfiguration - AI Agent 自动装配失败
java.util.concurrent.CompletionException: org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.zj.aiagemt.mapper.AiClientConfigMapper.selectList
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320)
	at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1807)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.zj.aiagemt.mapper.AiClientConfigMapper.selectList
	at org.apache.ibatis.binding.MapperMethod$SqlCommand.<init>(MapperMethod.java:229)
	at org.apache.ibatis.binding.MapperMethod.<init>(MapperMethod.java:53)
	at org.apache.ibatis.binding.MapperProxy.lambda$cachedInvoker$0(MapperProxy.java:96)
	at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708)
	at org.apache.ibatis.util.MapUtil.computeIfAbsent(MapUtil.java:36)
	at org.apache.ibatis.binding.MapperProxy.cachedInvoker(MapperProxy.java:94)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy82.selectList(Unknown Source)
	at com.zj.aiagemt.mapper.impl.AgentRepository.queryApiByClientIdS(AgentRepository.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.zj.aiagemt.mapper.impl.AgentRepository$$SpringCGLIB$$0.queryApiByClientIdS(<generated>)
	at com.zj.aiagemt.service.agent.armory.strategy.ClientLoadDataStrategy.lambda$0(ClientLoadDataStrategy.java:26)
	at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804)
	... 3 common frames omitted
25-09-10.21:10:28.897 [background-preinit] INFO  Version                - HV000001: Hibernate Validator 8.0.3.Final
25-09-10.21:10:28.984 [main            ] INFO  AiagemtApplication     - Starting AiagemtApplication using Java 21.0.6 with PID 60160 (D:\java\ai-agent\ai-agent\aiagemt\target\classes started by 32183 in d:\java\ai-agent\ai-agent)
25-09-10.21:10:28.985 [main            ] INFO  AiagemtApplication     - The following 1 profile is active: "dev"
25-09-10.21:10:30.277 [main            ] WARN  ClassPathMapperScanner - No MyBatis mapper was found in '[com.zj.aiagemt.mapper.entity]' package. Please check your configuration.
25-09-10.21:10:31.070 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-09-10.21:10:31.097 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-09-10.21:10:31.100 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-09-10.21:10:31.101 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.44]
25-09-10.21:10:31.278 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-09-10.21:10:31.278 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2222 ms
25-09-10.21:10:31.944 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store. Is empty: false
25-09-10.21:10:31.948 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store in schema: public
25-09-10.21:10:31.948 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-09-10.21:10:33.198 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-09-10.21:10:33.225 [main            ] WARN  AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
25-09-10.21:10:33.244 [main            ] INFO  ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
25-09-10.21:10:33.279 [main            ] ERROR LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8091 was already in use.

Action:

Identify and stop the process that's listening on port 8091 or configure this application to listen on another port.

25-09-10.21:10:44.311 [SpringApplicationShutdownHook] INFO  GracefulShutdown       - Commencing graceful shutdown. Waiting for active requests to complete
25-09-10.21:10:44.341 [tomcat-shutdown ] INFO  GracefulShutdown       - Graceful shutdown complete
25-09-10.21:10:55.283 [background-preinit] INFO  Version                - HV000001: Hibernate Validator 8.0.3.Final
25-09-10.21:10:55.367 [main            ] INFO  AiagemtApplication     - Starting AiagemtApplication using Java 21.0.6 with PID 81360 (D:\java\ai-agent\ai-agent\aiagemt\target\classes started by 32183 in d:\java\ai-agent\ai-agent)
25-09-10.21:10:55.368 [main            ] INFO  AiagemtApplication     - The following 1 profile is active: "dev"
25-09-10.21:10:56.617 [main            ] WARN  ClassPathMapperScanner - No MyBatis mapper was found in '[com.zj.aiagemt.mapper.entity]' package. Please check your configuration.
25-09-10.21:10:57.343 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-09-10.21:10:57.359 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-09-10.21:10:57.360 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-09-10.21:10:57.361 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.44]
25-09-10.21:10:57.506 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-09-10.21:10:57.506 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2067 ms
25-09-10.21:10:58.284 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store. Is empty: false
25-09-10.21:10:58.288 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store in schema: public
25-09-10.21:10:58.289 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-09-10.21:10:59.495 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-09-10.21:10:59.519 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path '/'
25-09-10.21:10:59.533 [main            ] INFO  AiagemtApplication     - Started AiagemtApplication in 5.174 seconds (process running for 5.764)
25-09-10.21:10:59.540 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配开始，配置: AiAgentAutoConfigProperties(enabled=true, clientIds=[3001])
25-09-10.21:10:59.543 [main            ] INFO  AiAgentAutoConfiguration - 开始自动装配AI客户端，客户端ID列表: [3001]
25-09-10.21:10:59.545 [main            ] INFO  RootNode               - 开始加载数据 commandTypeaiClientLoadDataStrategy
25-09-10.21:10:59.546 [main            ] INFO  ClientLoadDataStrategy - 开始异步加载数据
25-09-10.21:10:59.586 [main            ] ERROR AiAgentAutoConfiguration - AI Agent 自动装配失败
java.util.concurrent.CompletionException: org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.zj.aiagemt.mapper.AiClientConfigMapper.selectList
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320)
	at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1807)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.zj.aiagemt.mapper.AiClientConfigMapper.selectList
	at org.apache.ibatis.binding.MapperMethod$SqlCommand.<init>(MapperMethod.java:229)
	at org.apache.ibatis.binding.MapperMethod.<init>(MapperMethod.java:53)
	at org.apache.ibatis.binding.MapperProxy.lambda$cachedInvoker$0(MapperProxy.java:96)
	at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708)
	at org.apache.ibatis.util.MapUtil.computeIfAbsent(MapUtil.java:36)
	at org.apache.ibatis.binding.MapperProxy.cachedInvoker(MapperProxy.java:94)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy82.selectList(Unknown Source)
	at com.zj.aiagemt.mapper.impl.AgentRepository.queryApiByClientIdS(AgentRepository.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.zj.aiagemt.mapper.impl.AgentRepository$$SpringCGLIB$$0.queryApiByClientIdS(<generated>)
	at com.zj.aiagemt.service.agent.armory.strategy.ClientLoadDataStrategy.lambda$0(ClientLoadDataStrategy.java:26)
	at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804)
	... 3 common frames omitted
25-09-10.21:12:54.318 [background-preinit] INFO  Version                - HV000001: Hibernate Validator 8.0.3.Final
25-09-10.21:12:54.385 [main            ] INFO  AiagemtApplication     - Starting AiagemtApplication using Java 21.0.6 with PID 77816 (D:\java\ai-agent\ai-agent\aiagemt\target\classes started by 32183 in D:\java\ai-agent\ai-agent)
25-09-10.21:12:54.386 [main            ] INFO  AiagemtApplication     - The following 1 profile is active: "dev"
25-09-10.21:12:56.086 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-09-10.21:12:56.102 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-09-10.21:12:56.103 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-09-10.21:12:56.104 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.44]
25-09-10.21:12:56.225 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-09-10.21:12:56.226 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1785 ms
25-09-10.21:12:56.911 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store. Is empty: false
25-09-10.21:12:56.916 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store in schema: public
25-09-10.21:12:56.916 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-09-10.21:12:57.951 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-09-10.21:12:57.967 [main            ] WARN  AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
25-09-10.21:12:57.982 [main            ] INFO  ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
25-09-10.21:12:57.998 [main            ] ERROR LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8091 was already in use.

Action:

Identify and stop the process that's listening on port 8091 or configure this application to listen on another port.

25-09-10.21:13:46.192 [background-preinit] INFO  Version                - HV000001: Hibernate Validator 8.0.3.Final
25-09-10.21:13:46.252 [main            ] INFO  AiagemtApplication     - Starting AiagemtApplication using Java 21.0.6 with PID 20404 (D:\java\ai-agent\ai-agent\aiagemt\target\classes started by 32183 in D:\java\ai-agent\ai-agent)
25-09-10.21:13:46.253 [main            ] INFO  AiagemtApplication     - The following 1 profile is active: "dev"
25-09-10.21:13:47.740 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-09-10.21:13:47.756 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-09-10.21:13:47.759 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-09-10.21:13:47.759 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.44]
25-09-10.21:13:47.878 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-09-10.21:13:47.879 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1580 ms
25-09-10.21:13:48.468 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store. Is empty: false
25-09-10.21:13:48.471 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store in schema: public
25-09-10.21:13:48.471 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-09-10.21:13:49.479 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-09-10.21:13:49.499 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path '/'
25-09-10.21:13:49.508 [main            ] INFO  AiagemtApplication     - Started AiagemtApplication in 4.188 seconds (process running for 5.342)
25-09-10.21:13:49.513 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配开始，配置: AiAgentAutoConfigProperties(enabled=true, clientIds=[3001])
25-09-10.21:13:49.513 [main            ] INFO  AiAgentAutoConfiguration - 开始自动装配AI客户端，客户端ID列表: [3001]
25-09-10.21:13:49.515 [main            ] INFO  RootNode               - 开始加载数据 commandTypeaiClientLoadDataStrategy
25-09-10.21:13:49.515 [main            ] INFO  ClientLoadDataStrategy - 开始异步加载数据
25-09-10.21:13:49.538 [main            ] ERROR AiAgentAutoConfiguration - AI Agent 自动装配失败
java.util.concurrent.CompletionException: org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.zj.aiagemt.mapper.AiClientConfigMapper.selectList
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320)
	at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1807)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.zj.aiagemt.mapper.AiClientConfigMapper.selectList
	at org.apache.ibatis.binding.MapperMethod$SqlCommand.<init>(MapperMethod.java:229)
	at org.apache.ibatis.binding.MapperMethod.<init>(MapperMethod.java:53)
	at org.apache.ibatis.binding.MapperProxy.lambda$cachedInvoker$0(MapperProxy.java:96)
	at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708)
	at org.apache.ibatis.util.MapUtil.computeIfAbsent(MapUtil.java:36)
	at org.apache.ibatis.binding.MapperProxy.cachedInvoker(MapperProxy.java:94)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy82.selectList(Unknown Source)
	at com.zj.aiagemt.mapper.impl.AgentRepository.queryApiByClientIdS(AgentRepository.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.zj.aiagemt.mapper.impl.AgentRepository$$SpringCGLIB$$0.queryApiByClientIdS(<generated>)
	at com.zj.aiagemt.service.agent.armory.strategy.ClientLoadDataStrategy.lambda$0(ClientLoadDataStrategy.java:26)
	at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804)
	... 3 common frames omitted
25-09-10.21:14:21.908 [SpringApplicationShutdownHook] INFO  GracefulShutdown       - Commencing graceful shutdown. Waiting for active requests to complete
25-09-10.21:14:21.941 [tomcat-shutdown ] INFO  GracefulShutdown       - Graceful shutdown complete
25-09-10.21:14:29.950 [background-preinit] INFO  Version                - HV000001: Hibernate Validator 8.0.3.Final
25-09-10.21:14:30.018 [main            ] INFO  AiagemtApplication     - Starting AiagemtApplication using Java 21.0.6 with PID 82932 (D:\java\ai-agent\ai-agent\aiagemt\target\classes started by 32183 in D:\java\ai-agent\ai-agent)
25-09-10.21:14:30.019 [main            ] INFO  AiagemtApplication     - The following 1 profile is active: "dev"
25-09-10.21:14:31.633 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-09-10.21:14:31.646 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-09-10.21:14:31.647 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-09-10.21:14:31.648 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.44]
25-09-10.21:14:31.767 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-09-10.21:14:31.768 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1700 ms
25-09-10.21:14:32.369 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store. Is empty: false
25-09-10.21:14:32.373 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store in schema: public
25-09-10.21:14:32.373 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-09-10.21:14:33.352 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-09-10.21:14:33.372 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path '/'
25-09-10.21:14:33.379 [main            ] INFO  AiagemtApplication     - Started AiagemtApplication in 4.209 seconds (process running for 5.039)
25-09-10.21:14:33.384 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配开始，配置: AiAgentAutoConfigProperties(enabled=true, clientIds=[3001])
25-09-10.21:14:33.384 [main            ] INFO  AiAgentAutoConfiguration - 开始自动装配AI客户端，客户端ID列表: [3001]
25-09-10.21:14:33.386 [main            ] INFO  RootNode               - 开始加载数据 commandTypeaiClientLoadDataStrategy
25-09-10.21:14:33.386 [main            ] INFO  ClientLoadDataStrategy - 开始异步加载数据
25-09-10.21:14:33.406 [main            ] ERROR AiAgentAutoConfiguration - AI Agent 自动装配失败
java.util.concurrent.CompletionException: org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.zj.aiagemt.mapper.AiClientConfigMapper.selectList
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320)
	at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1807)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.zj.aiagemt.mapper.AiClientConfigMapper.selectList
	at org.apache.ibatis.binding.MapperMethod$SqlCommand.<init>(MapperMethod.java:229)
	at org.apache.ibatis.binding.MapperMethod.<init>(MapperMethod.java:53)
	at org.apache.ibatis.binding.MapperProxy.lambda$cachedInvoker$0(MapperProxy.java:96)
	at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708)
	at org.apache.ibatis.util.MapUtil.computeIfAbsent(MapUtil.java:36)
	at org.apache.ibatis.binding.MapperProxy.cachedInvoker(MapperProxy.java:94)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy82.selectList(Unknown Source)
	at com.zj.aiagemt.mapper.impl.AgentRepository.queryApiByClientIdS(AgentRepository.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.zj.aiagemt.mapper.impl.AgentRepository$$SpringCGLIB$$0.queryApiByClientIdS(<generated>)
	at com.zj.aiagemt.service.agent.armory.strategy.ClientLoadDataStrategy.lambda$0(ClientLoadDataStrategy.java:26)
	at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804)
	... 3 common frames omitted
25-09-10.21:16:36.907 [SpringApplicationShutdownHook] INFO  GracefulShutdown       - Commencing graceful shutdown. Waiting for active requests to complete
25-09-10.21:16:36.947 [tomcat-shutdown ] INFO  GracefulShutdown       - Graceful shutdown complete
25-09-10.21:16:42.971 [background-preinit] INFO  Version                - HV000001: Hibernate Validator 8.0.3.Final
25-09-10.21:16:43.048 [main            ] INFO  AiagemtApplication     - Starting AiagemtApplication using Java 21.0.6 with PID 80684 (D:\java\ai-agent\ai-agent\aiagemt\target\classes started by 32183 in D:\java\ai-agent\ai-agent)
25-09-10.21:16:43.049 [main            ] INFO  AiagemtApplication     - The following 1 profile is active: "dev"
25-09-10.21:16:44.592 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-09-10.21:16:44.612 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-09-10.21:16:44.614 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-09-10.21:16:44.614 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.44]
25-09-10.21:16:44.731 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-09-10.21:16:44.732 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1636 ms
25-09-10.21:16:45.340 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store. Is empty: false
25-09-10.21:16:45.344 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store in schema: public
25-09-10.21:16:45.344 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-09-10.21:16:46.899 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-09-10.21:16:46.929 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path '/'
25-09-10.21:16:46.942 [main            ] INFO  AiagemtApplication     - Started AiagemtApplication in 4.741 seconds (process running for 5.821)
25-09-10.21:16:46.948 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配开始，配置: AiAgentAutoConfigProperties(enabled=true, clientIds=[3001])
25-09-10.21:16:46.949 [main            ] INFO  AiAgentAutoConfiguration - 开始自动装配AI客户端，客户端ID列表: [3001]
25-09-10.21:16:46.951 [main            ] INFO  RootNode               - 开始加载数据 commandTypeaiClientLoadDataStrategy
25-09-10.21:16:46.951 [main            ] INFO  ClientLoadDataStrategy - 开始异步加载数据
25-09-10.21:16:47.065 [pool-2-thread-6 ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-09-10.21:16:47.897 [pool-2-thread-6 ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@598e16a3
25-09-10.21:16:47.901 [pool-2-thread-6 ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-09-10.21:16:48.448 [main            ] INFO  ClientLoadDataStrategy - 结束异步加载数据
25-09-10.21:16:48.449 [main            ] INFO  ApiNode                - Ai Agent 构建节点，客户端,ApiNode
25-09-10.21:16:48.457 [main            ] INFO  SpringContextUtil      - 成功注册Bean: ai_client_api_1002
25-09-10.21:16:48.457 [main            ] INFO  ModelNode              - Ai Agent 构建节点，客户端,ModelNode
25-09-10.21:16:48.459 [main            ] INFO  SpringContextUtil      - 成功注册Bean: ai_client_model_2005
25-09-10.21:16:48.459 [main            ] INFO  McpNode                - Ai Agent 构建节点，客户端,McpNode
25-09-10.21:16:48.734 [main            ] INFO  AdvisorNode            - Ai Agent 构建节点，Advisor 顾问角色{"commandIdList":["3001"],"commandType":"aiClientLoadDataStrategy"}
25-09-10.21:16:48.734 [main            ] WARN  AdvisorNode            - 没有需要被初始化的 ai client advisor
25-09-10.21:16:48.734 [main            ] INFO  ClientNode             - Ai Agent 构建节点，客户端ClientNode
25-09-10.21:16:48.743 [main            ] INFO  SpringContextUtil      - 成功注册Bean: ai_client_3001
25-09-10.21:16:48.743 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配完成，结果: AgentArmoryVO(dynamicContext=DefaultAgentArmoryFactory.DynamicContext(dataObjects={ai_client_api_data_list=[AiClientApiVO(apiId=1002, baseUrl=https://api.deepseek.com, apiKey=sk-913c967554c44c3ea3182be9cffb74b8, completionsPath=1, embeddingsPath=1)], ai_client_advisor_data_list=[], ai_client_model_data_list=[AiClientModelVO(modelId=2005, apiId=1002, modelName=deepseek-chat, modelType=openai, toolMcpIds=[])], ai_client_tool_mcp_data_list=[], ai_client_data_list=[AiClientVO(clientId=3001, clientName=test, description=尝试了解数据库, modelId=2005, promptIdList=[], mcpIdList=[], advisorIdList=[])], ai_client_system_prompt_data_list={}}))
25-09-10.21:21:45.002 [http-nio-8091-exec-2] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-09-10.21:21:45.002 [http-nio-8091-exec-2] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-09-10.21:21:45.003 [http-nio-8091-exec-2] INFO  DispatcherServlet      - Completed initialization in 1 ms
25-09-10.21:21:45.024 [http-nio-8091-exec-2] WARN  DefaultHandlerExceptionResolver - Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' is not supported]
25-09-10.21:21:57.570 [http-nio-8091-exec-3] INFO  AiAgentControlle       - AutoAgent流式执行请求开始，请求信息：{"aiAgentId":"3","maxStep":1,"message":"你是谁","sessionId":"1"}
25-09-10.21:21:57.573 [pool-2-thread-7 ] INFO  RootNode               - === 动态多轮执行测试开始 ====
25-09-10.21:21:57.573 [pool-2-thread-7 ] INFO  RootNode               - 用户输入: 你是谁
25-09-10.21:21:57.573 [pool-2-thread-7 ] INFO  RootNode               - 最大执行步数: 1
25-09-10.21:21:57.573 [pool-2-thread-7 ] INFO  RootNode               - 会话ID: 1
25-09-10.21:21:58.239 [pool-2-thread-7 ] INFO  Step1AnalyzerNode      - 
🎯 === 执行第 1 步 ===
25-09-10.21:21:58.240 [pool-2-thread-7 ] INFO  Step1AnalyzerNode      - 
📊 阶段1: 任务状态分析
25-09-10.21:21:58.416 [pool-2-thread-7 ] INFO  RestClientConfig       - ==> RestClient Request: POST https://api.deepseek.com/v1/chat/completions
25-09-10.21:21:58.936 [pool-2-thread-7 ] INFO  RestClientConfig       - ==> Apache HttpClient Request: POST /v1/chat/completions
25-09-10.21:21:59.039 [pool-2-thread-7 ] INFO  RestClientConfig       - <== Apache HttpClient Response: 200 in 607 ms
25-09-10.21:21:59.045 [pool-2-thread-7 ] INFO  RestClientConfig       - <== RestClient Response: 200 in 629 ms
25-09-10.21:22:13.329 [pool-2-thread-7 ] INFO  Step1AnalyzerNode      - 
📊 === 第 1 步分析结果 ===
25-09-10.21:22:13.329 [pool-2-thread-7 ] INFO  Step1AnalyzerNode      - 
🎯 任务状态分析:
25-09-10.21:22:13.330 [pool-2-thread-7 ] INFO  Step1AnalyzerNode      - 
📈 执行历史评估:
25-09-10.21:22:13.330 [pool-2-thread-7 ] INFO  Step1AnalyzerNode      - 
🚀 下一步策略:
25-09-10.21:22:13.330 [pool-2-thread-7 ] INFO  Step1AnalyzerNode      -    🎯 1. 直接调用文本生成能力，构建清晰友好的自我介绍
25-09-10.21:22:13.330 [pool-2-thread-7 ] INFO  Step1AnalyzerNode      -    🎯 2. 内容应包含：身份说明（DeepSeek-V3 AI）、开发团队（深度求索）、核心功能（知识问答/文本处理等）、服务范围
25-09-10.21:22:13.330 [pool-2-thread-7 ] INFO  Step1AnalyzerNode      -    🎯 3. 采用亲切自然的语气，适当使用表情符号增强友好度
25-09-10.21:22:13.330 [pool-2-thread-7 ] INFO  Step1AnalyzerNode      -    🎯 4. 结尾可添加开放式提问引导进一步交流
25-09-10.21:22:13.337 [pool-2-thread-7 ] INFO  Step1AnalyzerNode      - 
📊 完成度评估: 100%
25-09-10.21:22:13.338 [pool-2-thread-7 ] INFO  Step1AnalyzerNode      - 
✅ 任务状态: 已完成
25-09-10.21:22:13.338 [pool-2-thread-7 ] INFO  Step1AnalyzerNode      -    📝 【自我介绍】
25-09-10.21:22:13.338 [pool-2-thread-7 ] INFO  Step1AnalyzerNode      -    📝 我是DeepSeek-V3，由深度求索公司开发的智能AI助手！我可以帮助你解答问题、提供建议、处理文本内容，还能辅助编程和学习。无论是知识问答、写作创意，还是技术讨论，我都会尽力提供帮助~ 😊 有什么我可以为你做的吗？
25-09-10.21:22:13.338 [pool-2-thread-7 ] INFO  Step1AnalyzerNode      - ✅ 任务分析显示已完成！
25-09-10.21:22:13.339 [pool-2-thread-7 ] INFO  Step4LogExecutionSummaryNode - 
📊 === 执行第 1 步 ===
25-09-10.21:22:13.339 [pool-2-thread-7 ] INFO  Step4LogExecutionSummaryNode - 
📊 阶段4: 执行总结分析
25-09-10.21:22:13.339 [pool-2-thread-7 ] INFO  Step4LogExecutionSummaryNode - 
📊 === 动态多轮执行总结 ====
25-09-10.21:22:13.339 [pool-2-thread-7 ] INFO  Step4LogExecutionSummaryNode - 📈 总执行步数: 0 步
25-09-10.21:22:13.339 [pool-2-thread-7 ] INFO  Step4LogExecutionSummaryNode - ✅ 任务完成状态: 已完成
25-09-10.21:22:13.339 [pool-2-thread-7 ] INFO  Step4LogExecutionSummaryNode - 📊 执行效率: 100.0%
25-09-10.21:22:13.339 [pool-2-thread-7 ] INFO  Step4LogExecutionSummaryNode - 
--- 生成已完成任务的最终答案 ---
25-09-10.21:22:13.341 [pool-2-thread-7 ] INFO  RestClientConfig       - ==> RestClient Request: POST https://api.deepseek.com/v1/chat/completions
25-09-10.21:22:13.342 [pool-2-thread-7 ] INFO  RestClientConfig       - ==> Apache HttpClient Request: POST /v1/chat/completions
25-09-10.21:22:13.464 [pool-2-thread-7 ] INFO  RestClientConfig       - <== Apache HttpClient Response: 200 in 123 ms
25-09-10.21:22:13.464 [pool-2-thread-7 ] INFO  RestClientConfig       - <== RestClient Response: 200 in 123 ms
25-09-10.21:22:18.929 [pool-2-thread-7 ] INFO  Step4LogExecutionSummaryNode - 
📋 === 已完成任务最终总结报告 ===
25-09-10.21:22:18.929 [pool-2-thread-7 ] INFO  Step4LogExecutionSummaryNode - 📝 | 项目         | 内容                                     |
25-09-10.21:22:18.929 [pool-2-thread-7 ] INFO  Step4LogExecutionSummaryNode - 📝 |--------------|------------------------------------------|
25-09-10.21:22:18.929 [pool-2-thread-7 ] INFO  Step4LogExecutionSummaryNode - 📝 | 身份         | AI智能助手                               |
25-09-10.21:22:18.929 [pool-2-thread-7 ] INFO  Step4LogExecutionSummaryNode - 📝 | 功能         | 回答问题、提供信息、辅助任务执行等         |
25-09-10.21:22:18.929 [pool-2-thread-7 ] INFO  Step4LogExecutionSummaryNode - 📝 | 目标         | 为用户提供准确、实用和高效的帮助           |
25-09-10.21:22:18.931 [pool-2-thread-7 ] INFO  Step4LogExecutionSummaryNode - ✅ 已发送完成标识
25-09-10.21:22:18.931 [pool-2-thread-7 ] INFO  Step4LogExecutionSummaryNode - 
🏁 === 动态多轮执行结束 ====
25-09-10.21:22:18.931 [pool-2-thread-7 ] INFO  AutoAgentExecuteStrategy - 测试结果:ai agent execution summary completed!
25-09-10.21:22:49.415 [http-nio-8091-exec-7] INFO  AiAgentControlle       - 获取可用智能体列表请求
25-09-10.21:22:49.419 [http-nio-8091-exec-7] INFO  AiAgentControlle       - 成功获取到1个智能体
25-09-10.21:23:01.156 [http-nio-8091-exec-8] INFO  AiAgentControlle       - AutoAgent流式执行请求开始，请求信息：{"aiAgentId":"3","maxStep":1,"message":"你是谁","sessionId":"web_chat_001"}
25-09-10.21:23:01.157 [pool-2-thread-8 ] INFO  RootNode               - === 动态多轮执行测试开始 ====
25-09-10.21:23:01.157 [pool-2-thread-8 ] INFO  RootNode               - 用户输入: 你是谁
25-09-10.21:23:01.157 [pool-2-thread-8 ] INFO  RootNode               - 最大执行步数: 1
25-09-10.21:23:01.157 [pool-2-thread-8 ] INFO  RootNode               - 会话ID: web_chat_001
25-09-10.21:23:01.474 [pool-2-thread-8 ] INFO  Step1AnalyzerNode      - 
🎯 === 执行第 1 步 ===
25-09-10.21:23:01.474 [pool-2-thread-8 ] INFO  Step1AnalyzerNode      - 
📊 阶段1: 任务状态分析
25-09-10.21:23:01.476 [pool-2-thread-8 ] INFO  RestClientConfig       - ==> RestClient Request: POST https://api.deepseek.com/v1/chat/completions
25-09-10.21:23:01.484 [pool-2-thread-8 ] INFO  RestClientConfig       - ==> Apache HttpClient Request: POST /v1/chat/completions
25-09-10.21:23:01.594 [pool-2-thread-8 ] INFO  RestClientConfig       - <== Apache HttpClient Response: 200 in 118 ms
25-09-10.21:23:01.594 [pool-2-thread-8 ] INFO  RestClientConfig       - <== RestClient Response: 200 in 118 ms
25-09-10.21:23:13.912 [pool-2-thread-8 ] INFO  Step1AnalyzerNode      - 
📊 === 第 1 步分析结果 ===
25-09-10.21:23:13.912 [pool-2-thread-8 ] INFO  Step1AnalyzerNode      - 
🎯 任务状态分析:
25-09-10.21:23:13.912 [pool-2-thread-8 ] INFO  Step1AnalyzerNode      - 
📈 执行历史评估:
25-09-10.21:23:13.912 [pool-2-thread-8 ] INFO  Step1AnalyzerNode      - 
🚀 下一步策略:
25-09-10.21:23:13.912 [pool-2-thread-8 ] INFO  Step1AnalyzerNode      -    🎯 1. 直接生成简洁友好的自我介绍，说明身份（AI助手）、核心功能（信息处理、任务协助等）及典型应用场景。
25-09-10.21:23:13.912 [pool-2-thread-8 ] INFO  Step1AnalyzerNode      -    🎯 2. 无需调用外部工具，仅通过文本生成完成响应。
25-09-10.21:23:13.912 [pool-2-thread-8 ] INFO  Step1AnalyzerNode      -    🎯 3. 结尾可补充开放式提问（如“有什么可以帮您？”）以引导后续交互。
25-09-10.21:23:13.913 [pool-2-thread-8 ] INFO  Step1AnalyzerNode      - 
📊 完成度评估: 100%
25-09-10.21:23:13.913 [pool-2-thread-8 ] INFO  Step1AnalyzerNode      - 
✅ 任务状态: 已完成
25-09-10.21:23:13.913 [pool-2-thread-8 ] INFO  Step1AnalyzerNode      - ✅ 任务分析显示已完成！
25-09-10.21:23:13.913 [pool-2-thread-8 ] INFO  Step4LogExecutionSummaryNode - 
📊 === 执行第 1 步 ===
25-09-10.21:23:13.914 [pool-2-thread-8 ] INFO  Step4LogExecutionSummaryNode - 
📊 阶段4: 执行总结分析
25-09-10.21:23:13.914 [pool-2-thread-8 ] INFO  Step4LogExecutionSummaryNode - 
📊 === 动态多轮执行总结 ====
25-09-10.21:23:13.914 [pool-2-thread-8 ] INFO  Step4LogExecutionSummaryNode - 📈 总执行步数: 0 步
25-09-10.21:23:13.914 [pool-2-thread-8 ] INFO  Step4LogExecutionSummaryNode - ✅ 任务完成状态: 已完成
25-09-10.21:23:13.914 [pool-2-thread-8 ] INFO  Step4LogExecutionSummaryNode - 📊 执行效率: 100.0%
25-09-10.21:23:13.914 [pool-2-thread-8 ] INFO  Step4LogExecutionSummaryNode - 
--- 生成已完成任务的最终答案 ---
25-09-10.21:23:13.915 [pool-2-thread-8 ] INFO  RestClientConfig       - ==> RestClient Request: POST https://api.deepseek.com/v1/chat/completions
25-09-10.21:23:13.916 [pool-2-thread-8 ] INFO  RestClientConfig       - ==> Apache HttpClient Request: POST /v1/chat/completions
25-09-10.21:23:14.038 [pool-2-thread-8 ] INFO  RestClientConfig       - <== Apache HttpClient Response: 200 in 123 ms
25-09-10.21:23:14.039 [pool-2-thread-8 ] INFO  RestClientConfig       - <== RestClient Response: 200 in 124 ms
25-09-10.21:23:20.505 [pool-2-thread-8 ] INFO  Step4LogExecutionSummaryNode - 
📋 === 已完成任务最终总结报告 ===
25-09-10.21:23:20.505 [pool-2-thread-8 ] INFO  Step4LogExecutionSummaryNode - 📝 | 项目     | 内容                                                         |
25-09-10.21:23:20.505 [pool-2-thread-8 ] INFO  Step4LogExecutionSummaryNode - 📝 |----------|--------------------------------------------------------------|
25-09-10.21:23:20.505 [pool-2-thread-8 ] INFO  Step4LogExecutionSummaryNode - 📝 | 身份     | AI智能助手                                                   |
25-09-10.21:23:20.505 [pool-2-thread-8 ] INFO  Step4LogExecutionSummaryNode - 📝 | 功能     | 回答问题、提供信息、协助解决问题、生成内容等                   |
25-09-10.21:23:20.505 [pool-2-thread-8 ] INFO  Step4LogExecutionSummaryNode - 📝 | 设计目标 | 基于用户输入提供准确、实用和高效的帮助                         |
25-09-10.21:23:20.505 [pool-2-thread-8 ] INFO  Step4LogExecutionSummaryNode - 📝 我是您的AI智能助手，随时为您提供支持！
25-09-10.21:23:20.506 [pool-2-thread-8 ] INFO  Step4LogExecutionSummaryNode - ✅ 已发送完成标识
25-09-10.21:23:20.506 [pool-2-thread-8 ] INFO  Step4LogExecutionSummaryNode - 
🏁 === 动态多轮执行结束 ====
25-09-10.21:23:20.506 [pool-2-thread-8 ] INFO  AutoAgentExecuteStrategy - 测试结果:ai agent execution summary completed!
25-09-10.22:00:42.780 [SpringApplicationShutdownHook] INFO  GracefulShutdown       - Commencing graceful shutdown. Waiting for active requests to complete
25-09-10.22:00:42.806 [tomcat-shutdown ] INFO  GracefulShutdown       - Graceful shutdown complete
25-09-10.22:00:42.873 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-09-10.22:00:42.880 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-09-10.22:00:50.817 [background-preinit] INFO  Version                - HV000001: Hibernate Validator 8.0.3.Final
25-09-10.22:00:50.872 [main            ] INFO  AiagemtApplication     - Starting AiagemtApplication using Java 21.0.6 with PID 19080 (D:\java\ai-agent\ai-agent\aiagemt\target\classes started by 32183 in D:\java\ai-agent\ai-agent)
25-09-10.22:00:50.872 [main            ] INFO  AiagemtApplication     - The following 1 profile is active: "dev"
25-09-10.22:00:52.296 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-09-10.22:00:52.311 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-09-10.22:00:52.312 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-09-10.22:00:52.312 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.44]
25-09-10.22:00:52.431 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-09-10.22:00:52.432 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1516 ms
25-09-10.22:00:53.050 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store. Is empty: false
25-09-10.22:00:53.053 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store in schema: public
25-09-10.22:00:53.054 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-09-10.22:00:54.219 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-09-10.22:00:54.254 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path '/'
25-09-10.22:00:54.264 [main            ] INFO  AiagemtApplication     - Started AiagemtApplication in 4.175 seconds (process running for 5.248)
25-09-10.22:00:54.269 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配开始，配置: AiAgentAutoConfigProperties(enabled=true, clientIds=[3001, 3002])
25-09-10.22:00:54.270 [main            ] INFO  AiAgentAutoConfiguration - 开始自动装配AI客户端，客户端ID列表: [3001, 3002]
25-09-10.22:00:54.272 [main            ] INFO  RootNode               - 开始加载数据 commandTypeaiClientLoadDataStrategy
25-09-10.22:00:54.272 [main            ] INFO  ClientLoadDataStrategy - 开始异步加载数据
25-09-10.22:00:54.355 [pool-2-thread-1 ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-09-10.22:00:54.893 [pool-2-thread-1 ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@4b060244
25-09-10.22:00:54.896 [pool-2-thread-1 ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-09-10.22:00:55.488 [main            ] INFO  ClientLoadDataStrategy - 结束异步加载数据
25-09-10.22:00:55.488 [main            ] INFO  ApiNode                - Ai Agent 构建节点，客户端,ApiNode
25-09-10.22:00:55.490 [main            ] INFO  SpringContextUtil      - 成功注册Bean: ai_client_api_1002
25-09-10.22:00:55.490 [main            ] INFO  ModelNode              - Ai Agent 构建节点，客户端,ModelNode
25-09-10.22:00:55.491 [main            ] INFO  SpringContextUtil      - 成功注册Bean: ai_client_model_2005
25-09-10.22:00:55.491 [main            ] INFO  McpNode                - Ai Agent 构建节点，客户端,McpNode
25-09-10.22:00:55.645 [main            ] INFO  AdvisorNode            - Ai Agent 构建节点，Advisor 顾问角色{"commandIdList":["3001","3002"],"commandType":"aiClientLoadDataStrategy"}
25-09-10.22:00:55.646 [main            ] WARN  AdvisorNode            - 没有需要被初始化的 ai client advisor
25-09-10.22:00:55.646 [main            ] INFO  ClientNode             - Ai Agent 构建节点，客户端ClientNode
25-09-10.22:00:55.654 [main            ] INFO  SpringContextUtil      - 成功注册Bean: ai_client_3001
25-09-10.22:00:55.654 [main            ] INFO  SpringContextUtil      - 成功注册Bean: ai_client_3002
25-09-10.22:00:55.655 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配完成，结果: AgentArmoryVO(dynamicContext=DefaultAgentArmoryFactory.DynamicContext(dataObjects={ai_client_api_data_list=[AiClientApiVO(apiId=1002, baseUrl=https://api.deepseek.com, apiKey=sk-913c967554c44c3ea3182be9cffb74b8, completionsPath=1, embeddingsPath=1)], ai_client_advisor_data_list=[], ai_client_model_data_list=[AiClientModelVO(modelId=2005, apiId=1002, modelName=deepseek-chat, modelType=openai, toolMcpIds=[])], ai_client_tool_mcp_data_list=[], ai_client_data_list=[AiClientVO(clientId=3001, clientName=test, description=尝试了解数据库, modelId=2005, promptIdList=[], mcpIdList=[], advisorIdList=[]), AiClientVO(clientId=3002, clientName=自动发帖和通知, description=自动生成CSDN文章, modelId=2005, promptIdList=[6003], mcpIdList=[], advisorIdList=[])], ai_client_system_prompt_data_list={6003=AiClientSystemPromptVO(promptId=6003, promptName=CSDN发布文章, promptContent=我需要你帮我生成一篇文章，要求如下；
                                
                1. 场景为互联网大厂java求职者面试
                2. 面试管提问 Java 核心知识、JUC、JVM、多线程、线程池、HashMap、ArrayList、Spring、SpringBoot、MyBatis、Dubbo、RabbitMQ、xxl-job、Redis、MySQL、Linux、Docker、设计模式、DDD等不限于此的各项技术问题。
                3. 按照故事场景，以严肃的面试官和搞笑的水货程序员谢飞机进行提问，谢飞机对简单问题可以回答，回答好了面试官还会夸赞。复杂问题胡乱回答，回答的不清晰。
                4. 每次进行3轮提问，每轮可以有3-5个问题。这些问题要有技术业务场景上的衔接性，循序渐进引导提问。最后是面试官让程序员回家等通知类似的话术。
                5. 提问后把问题的答案，写到文章最后，最后的答案要详细讲述出技术点，让小白可以学习下来。
                                
                根据以上内容，不要阐述其他信息，请直接提供；文章标题、文章内容、文章标签（多个用英文逗号隔开）、文章简述（100字）
                                
                将以上内容发布文章到CSDN。, description=CSDN发布文章)}}))
25-09-10.22:01:14.772 [http-nio-8091-exec-1] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-09-10.22:01:14.773 [http-nio-8091-exec-1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-09-10.22:01:14.774 [http-nio-8091-exec-1] INFO  DispatcherServlet      - Completed initialization in 1 ms
25-09-10.22:01:14.823 [http-nio-8091-exec-1] INFO  CSDNPublishTask        - 
>>> QUESTION: # Java面试场景文章生成

## 角色设定
你是一个专业的技术内容生成助手，擅长创作互联网大厂Java面试场景的技术文章。

## 核心任务
根据以下指定的技术栈和业务场景，生成一篇以面试对话形式展现的Java技术文章，包含面试过程和详细的技术解析。

## 本次指定内容

### 🛠️ 技术栈重点 (深度挖掘以下2个领域,专注于其中3-5个技术栈即可)
AI: Spring AI, Google A2A, MCP（模型上下文协议）, RAG（检索增强生成）, Agent（智能代理）, 聊天会话内存, 工具执行框架, 提示填充, 向量化, 语义检索, 向量数据库（Milvus/Chroma/Redis）, Embedding模型（OpenAI/Ollama）, 客户端-服务器架构, 工具调用标准化, 扩展能力, Agentic RAG, 文档加载, 企业文档问答, 复杂工作流, 智能客服系统, AI幻觉（Hallucination）, 自然语言语义搜索
安全框架: Spring Security, Apache Shiro, JWT, OAuth2, Keycloak, Bouncy Castle

### 🏢 业务场景背景
美业服务

## 文章结构要求

### 1. 基础框架
- **场景背景**: 互联网大厂Java开发工程师面试
- **主要角色**: 
  - 严肃专业的面试官（技术专家）
  - 搞笑但技术基础不扎实的程序员"小润龙"
- **面试流程**: 3轮提问，每轮3-5个问题，循序渐进

### 2. 对话风格要求

#### 面试官特征：
- 严肃专业，逻辑清晰
- 问题具有层次性和递进性
- 对正确答案给予肯定和引导
- 对模糊回答追根问底
- 最终给出面试结果反馈

#### 小润龙特征：
- 对基础问题能够回答
- 遇到复杂问题开始含糊其辞
- 偶尔有搞笑的回答或比喻
- 技术理解有偏差但有一定基础
- 表现出紧张但努力的状态

### 3. 问题设计原则
- **循序渐进**: 从基础概念到实际应用再到性能优化
- **业务结合**: 每个技术问题都要结合美业服务业务场景
- **深度挖掘**: 专注于安全框架和AI的深入探讨
- **实战导向**: 问题要贴近实际开发中的真实挑战

### 4. 文章输出格式

#### 标准Markdown结构：
```markdown
# 【文章标题】## 📋 面试背景
[简要介绍面试场景、公司背景、岗位要求]

## 🎭 面试实录

### 第一轮：基础概念考查
[3-5个基础问题的对话]

### 第二轮：实际应用场景
[3-5个应用层面问题的对话]

### 第三轮：性能优化与架构设计
[3-5个高级问题的对话]

### 面试结果
[面试官的最终反馈]

## 📚 技术知识点详解

### [知识点1]
[详细的技术解析，包含代码示例、架构图等]

### [知识点2]
[详细的技术解析，包含最佳实践、注意事项等]

### [知识点N]
[详细的技术解析，适合小白学习]

## 💡 总结与建议
[针对面试中出现的问题，给出学习建议和技术成长路径]
```

### 5. 内容质量要求
- **技术准确性**: 确保所有技术内容准确无误
- **实用性**: 提供可落地的技术方案和代码示例
- **教育性**: 详解部分要让技术小白也能理解
- **趣味性**: 通过对话形式增加阅读趣味性
- **完整性**: 从面试到知识点解析的完整闭环

### 6. 特殊要求
- 每个技术问题都要有对应的详细解析
- 代码示例要完整且可执行, 必要时使用context7工具去搜索相关技术文档
- 避免过于宽泛，专注深度挖掘
- 文章内容使用markdown格式书写

## 输出指令
请严格按照上述要求，基于指定的技术栈"安全框架和AI"以及业务场景"美业服务"，生成一篇高质量的Java面试技术文章，确保内容的专业性、实用性和可读性。
，不要阐述其他信息，请直接提供；文章标题（需要含带技术点）、文章内容、文章标签（多个用英文逗号隔开）、文章简述（100字），并发布到csdn
25-09-10.22:02:58.382 [http-nio-8091-exec-1] INFO  CSDNPublishTask        - 
>>> ANSWER: # 美业服务Java面试实录：Spring Security与AI智能客服的技术深度拷问

## 📋 面试背景
某互联网大厂正在招聘Java开发工程师，专注于美业服务平台的开发。面试官是技术专家张工，候选人是有2年经验的程序员小润龙。岗位要求深入掌握安全框架和AI技术，能够构建安全可靠的美业智能服务系统。

## 🎭 面试实录

### 第一轮：基础概念考查

**张工**：小润龙你好，首先请你谈谈在美业服务系统中，为什么选择Spring Security作为安全框架？

**小润龙**：这个啊，因为Spring Security就像美容院的保安大叔，能管住谁进谁出！它能做登录验证、权限控制，防止客户数据被乱看。

**张工**：嗯，比喻不错。那么JWT在美业系统中起什么作用？如何与Spring Security集成？

**小润龙**：JWT就是会员卡嘛！客户登录后发个令牌，后面带着令牌就能享受服务。集成就是在Security配置里加个JWT过滤器，验证令牌是否有效。

**张工**：很好。说说OAuth2在美业平台的适用场景？

**小润龙**：比如我们和微信合作，客户可以用微信账号登录我们的美业APP，这就是OAuth2的授权码模式...呃，具体流程我记不太清了。

### 第二轮：实际应用场景

**张工**：现在有个需求：美业顾问需要查看客户护理记录，但不同门店的顾问只能看自己门店的数据。如何设计权限控制？

**小润龙**：这个可以用Spring Security的@PreAuthorize注解，结合自定义权限判断...或者用方法级安全控制？

**张工**：具体怎么实现？说说你的思路。

**小润龙**：呃...就是在Service方法上加注解，判断用户门店ID和数据门店ID是否匹配？可能需要写个自定义的PermissionEvaluator...

**张工**：接下来，美业智能客服需要用到RAG技术，为什么选择这种方案？

**小润龙**：RAG啊，就像美容顾问查资料回答客户问题！先从知识库找相关信息，再生成回答，比直接瞎编靠谱多了！

### 第三轮：性能优化与架构设计

**张工**：美业知识库有10万+文档，如何设计语义检索系统？选用什么向量数据库？

**小润龙**：可以用Milvus或者Redis吧...Redis我熟悉点，但向量搜索可能还是Milvus专业些？具体怎么部署我没实际做过...

**张工**：如何解决AI客服的幻觉问题？在美业行业这很关键。

**小润龙**：幻觉就是AI胡说八道嘛！可以加一些验证规则，或者设置置信度阈值...呃，或者让人类顾问审核？

**张工**：最后，设计一个美业智能预约系统，需要集成身份认证、权限控制和AI推荐功能，画出你的架构设计。

**小润龙**：（画图）前端、网关、认证服务、业务服务、AI服务...数据库用MySQL和Redis缓存...向量数据库放这边...好像有点乱啊。

### 面试结果

**张工**：感谢你今天来面试。你对基础概念有一定了解，但在实际架构设计和深度技术实现上还需要加强。特别是AI与安全框架的整合方案需要更深入的实践经验。我们会综合评估后给你反馈。

## 📚 技术知识点详解

### Spring Security核心架构

Spring Security的核心是基于过滤器链（Filter Chain）的安全控制机制：

```java
@Configuration
@EnableWebSecurity
public class SecurityConfig {
    
    @Bean
    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {
        http
            .authorizeHttpRequests(authz -> authz
                .requestMatchers("/api/public/**").permitAll()
                .requestMatchers("/api/beauty/consultant/**").hasRole("CONSULTANT")
                .requestMatchers("/api/beauty/admin/**").hasRole("ADMIN")
                .anyRequest().authenticated()
            )
            .oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt)
            .sessionManagement(session -> session
                .sessionCreationPolicy(SessionCreationPolicy.STATELESS));
        return http.build();
    }
}
```

这种配置确保了美业系统中不同角色（客户、顾问、管理员）的访问权限分离。

### JWT与OAuth2集成实践

JWT（JSON Web Token）在美业系统的应用：

```java
public class JwtTokenProvider {
    
    public String generateToken(UserDetails userDetails) {
        Map<String, Object> claims = new HashMap<>();
        claims.put("shopId", getShopIdFromUser(userDetails));
        claims.put("authorities", getAuthorities(userDetails));
        
        return Jwts.builder()
                .setClaims(claims)
                .setSubject(userDetails.getUsername())
                .setIssuedAt(new Date())
                .setExpiration(new Date(System.currentTimeMillis() + JWT_EXPIRATION))
                .signWith(SignatureAlgorithm.HS512, JWT_SECRET)
                .compact();
    }
    
    public boolean validateToken(String token) {
        try {
            Jwts.parser().setSigningKey(JWT_SECRET).parseClaimsJws(token);
            return true;
        } catch (Exception e) {
            return false;
        }
    }
}
```

### RAG在美业智能客服的实现

检索增强生成（RAG）系统的核心组件：

1. **文档处理与向量化**：
```python
from langchain.document_loaders import DirectoryLoader
from langchain.embeddings import OpenAIEmbeddings
from langchain.vectorstores import Milvus

# 加载美业知识文档
loader = DirectoryLoader('./beauty-knowledge', glob="**/*.md")
documents = loader.load()

# 创建向量存储
embeddings = OpenAIEmbeddings()
vector_store = Milvus.from_documents(documents, embeddings, 
                                   connection_args={"host": "localhost", "port": "19530"})
```

2. **语义检索与生成**：
```java
public class BeautyQAService {
    
    @Autowired
    private VectorStore vectorStore;
    
    @Autowired
    private OpenAIClient openAIClient;
    
    public String answerQuestion(String question, String customerContext) {
        // 语义检索相关文档
        List<Document> relevantDocs = vectorStore.similaritySearch(question, 5);
        
        // 构建提示词
        String prompt = buildPrompt(question, customerContext, relevantDocs);
        
        // 调用AI生成回答
        return openAIClient.generateResponse(prompt);
    }
    
    private String buildPrompt(String question, String context, List<Document> docs) {
        StringBuilder prompt = new StringBuilder();
        prompt.append("你是一名美业专家顾问，请根据以下知识回答问题：\n\n");
        
        for (Document doc : docs) {
            prompt.append("知识片段：").append(doc.getContent()).append("\n\n");
        }
        
        prompt.append("客户问题：").append(question).append("\n");
        prompt.append("客户背景：").append(context).append("\n");
        prompt.append("请提供专业、准确的美业建议：");
        
        return prompt.toString();
    }
}
```

### 解决AI幻觉的技术方案

1. **知识 grounding**：确保AI回答基于提供的知识文档
2. **置信度检测**：设置回答置信度阈值，低于阈值时转人工
3. **事实核查**：集成事实核查机制验证关键信息
4. **限制生成范围**：使用提示工程限制AI的回答范围

```java
public class HallucinationChecker {
    
    public boolean checkForHallucination(String answer, List<Document> sourceDocs) {
        // 计算回答与源文档的语义相似度
        double similarity = calculateSimilarity(answer, sourceDocs);
        
        // 检查是否存在源文档未支持的关键信息
        boolean hasUnsupportedClaims = detectUnsupportedClaims(answer, sourceDocs);
        
        return similarity < 0.6 || hasUnsupportedClaims;
    }
    
    public String getSafeResponse(String originalResponse, List<Document> sources) {
        if (checkForHallucination(originalResponse, sources)) {
            return "抱歉，这个问题超出了我的知识范围，请联系人工顾问获取帮助。";
        }
        return originalResponse;
    }
}
```

## 💡 总结与建议

本次面试展现了美业服务系统开发中的关键技术挑战：安全框架的精细权限控制和AI技术的可靠集成。建议深入学习：

1. **Spring Security深度实践**：掌握方法级安全、自定义权限评估器
2. **向量数据库实战**：学习Milvus/Chroma的部署和优化
3. **RAG系统优化**：理解检索质量提升和幻觉处理技术
4. **架构设计能力**：培养复杂系统拆分和整合的思维

美业行业的数字化转型需要既懂技术又懂业务的人才，建议在实际项目中积累经验，特别是安全与AI结合的场景实践。

**文章标签**：Java面试,Spring Security,AI技术,RAG,美业系统,JWT,OAuth2,向量数据库,智能客服

**文章简述**：本文通过模拟互联网大厂Java面试场景，深度探讨美业服务系统中的Spring Security安全框架和AI智能客服技术。涵盖JWT认证、权限控制、RAG架构、向量数据库应用等核心技术，提供详细的代码示例和架构设计方案，适合Java开发者深入学习安全与AI整合实践。
25-09-10.22:09:19.528 [SpringApplicationShutdownHook] INFO  GracefulShutdown       - Commencing graceful shutdown. Waiting for active requests to complete
25-09-10.22:09:19.548 [tomcat-shutdown ] INFO  GracefulShutdown       - Graceful shutdown complete
25-09-10.22:09:21.617 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-09-10.22:09:21.624 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-09-10.22:09:28.177 [background-preinit] INFO  Version                - HV000001: Hibernate Validator 8.0.3.Final
25-09-10.22:09:28.231 [main            ] INFO  AiagemtApplication     - Starting AiagemtApplication using Java 21.0.6 with PID 82964 (D:\java\ai-agent\ai-agent\aiagemt\target\classes started by 32183 in D:\java\ai-agent\ai-agent)
25-09-10.22:09:28.232 [main            ] INFO  AiagemtApplication     - The following 1 profile is active: "dev"
25-09-10.22:09:29.651 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-09-10.22:09:29.665 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-09-10.22:09:29.667 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-09-10.22:09:29.667 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.44]
25-09-10.22:09:29.795 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-09-10.22:09:29.796 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1521 ms
25-09-10.22:09:30.395 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store. Is empty: false
25-09-10.22:09:30.399 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store in schema: public
25-09-10.22:09:30.399 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-09-10.22:09:31.593 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-09-10.22:09:31.611 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path '/'
25-09-10.22:09:31.622 [main            ] INFO  AiagemtApplication     - Started AiagemtApplication in 4.167 seconds (process running for 5.142)
25-09-10.22:09:31.625 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配开始，配置: AiAgentAutoConfigProperties(enabled=true, clientIds=[3001, 3002])
25-09-10.22:09:31.626 [main            ] INFO  AiAgentAutoConfiguration - 开始自动装配AI客户端，客户端ID列表: [3001, 3002]
25-09-10.22:09:31.627 [main            ] INFO  RootNode               - 开始加载数据 commandTypeaiClientLoadDataStrategy
25-09-10.22:09:31.627 [main            ] INFO  ClientLoadDataStrategy - 开始异步加载数据
25-09-10.22:09:31.717 [pool-2-thread-3 ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-09-10.22:09:32.370 [pool-2-thread-3 ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@24c44a4
25-09-10.22:09:32.372 [pool-2-thread-3 ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-09-10.22:09:33.394 [main            ] INFO  ClientLoadDataStrategy - 结束异步加载数据
25-09-10.22:09:33.394 [main            ] INFO  ApiNode                - Ai Agent 构建节点，客户端,ApiNode
25-09-10.22:09:33.396 [main            ] INFO  SpringContextUtil      - 成功注册Bean: ai_client_api_1002
25-09-10.22:09:33.396 [main            ] INFO  ModelNode              - Ai Agent 构建节点，客户端,ModelNode
25-09-10.22:09:33.397 [main            ] INFO  SpringContextUtil      - 成功注册Bean: ai_client_model_2005
25-09-10.22:09:33.397 [main            ] INFO  McpNode                - Ai Agent 构建节点，客户端,McpNode
25-09-10.22:09:33.523 [main            ] INFO  AdvisorNode            - Ai Agent 构建节点，Advisor 顾问角色{"commandIdList":["3001","3002"],"commandType":"aiClientLoadDataStrategy"}
25-09-10.22:09:33.523 [main            ] WARN  AdvisorNode            - 没有需要被初始化的 ai client advisor
25-09-10.22:09:33.523 [main            ] INFO  ClientNode             - Ai Agent 构建节点，客户端ClientNode
25-09-10.22:09:33.530 [main            ] INFO  SpringContextUtil      - 成功注册Bean: ai_client_3001
25-09-10.22:09:33.531 [main            ] ERROR AiAgentAutoConfiguration - AI Agent 自动装配失败
org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'ai_client_tool_mcp_5001' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:977)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1272)
	at com.zj.aiagemt.utils.SpringContextUtil.getBean(SpringContextUtil.java:47)
	at com.zj.aiagemt.service.agent.armory.node.AgentAromorSupport.getBean(AgentAromorSupport.java:37)
	at com.zj.aiagemt.service.agent.armory.node.ClientNode.doApply(ClientNode.java:68)
	at com.zj.aiagemt.service.agent.armory.node.ClientNode.doApply(ClientNode.java:1)
	at com.zj.aiagemt.common.design.ruletree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:38)
	at com.zj.aiagemt.common.design.ruletree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:28)
	at com.zj.aiagemt.service.agent.armory.node.AdvisorNode.doApply(AdvisorNode.java:46)
	at com.zj.aiagemt.service.agent.armory.node.AdvisorNode.doApply(AdvisorNode.java:1)
	at com.zj.aiagemt.common.design.ruletree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:38)
	at com.zj.aiagemt.common.design.ruletree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:28)
	at com.zj.aiagemt.service.agent.armory.node.McpNode.doApply(McpNode.java:53)
	at com.zj.aiagemt.service.agent.armory.node.McpNode.doApply(McpNode.java:27)
	at com.zj.aiagemt.common.design.ruletree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:38)
	at com.zj.aiagemt.common.design.ruletree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:28)
	at com.zj.aiagemt.service.agent.armory.node.ModelNode.doApply(ModelNode.java:47)
	at com.zj.aiagemt.service.agent.armory.node.ModelNode.doApply(ModelNode.java:1)
	at com.zj.aiagemt.common.design.ruletree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:38)
	at com.zj.aiagemt.common.design.ruletree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:28)
	at com.zj.aiagemt.service.agent.armory.node.ApiNode.doApply(ApiNode.java:41)
	at com.zj.aiagemt.service.agent.armory.node.ApiNode.doApply(ApiNode.java:1)
	at com.zj.aiagemt.common.design.ruletree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:38)
	at com.zj.aiagemt.common.design.ruletree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:28)
	at com.zj.aiagemt.service.agent.armory.node.RootNode.doApply(RootNode.java:25)
	at com.zj.aiagemt.service.agent.armory.node.RootNode.doApply(RootNode.java:1)
	at com.zj.aiagemt.common.design.ruletree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:38)
	at com.zj.aiagemt.config.AiAgentAutoConfiguration.onApplicationEvent(AiAgentAutoConfiguration.java:70)
	at com.zj.aiagemt.config.AiAgentAutoConfiguration.onApplicationEvent(AiAgentAutoConfiguration.java:1)
	at com.zj.aiagemt.config.AiAgentAutoConfiguration$$SpringCGLIB$$0.onApplicationEvent(<generated>)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:156)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:454)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:387)
	at org.springframework.boot.context.event.EventPublishingRunListener.ready(EventPublishingRunListener.java:109)
	at org.springframework.boot.SpringApplicationRunListeners.lambda$ready$6(SpringApplicationRunListeners.java:80)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)
	at org.springframework.boot.SpringApplicationRunListeners.ready(SpringApplicationRunListeners.java:80)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:332)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.zj.aiagemt.AiagemtApplication.main(AiagemtApplication.java:16)
25-09-10.22:12:55.189 [SpringApplicationShutdownHook] INFO  GracefulShutdown       - Commencing graceful shutdown. Waiting for active requests to complete
25-09-10.22:12:55.214 [tomcat-shutdown ] INFO  GracefulShutdown       - Graceful shutdown complete
25-09-10.22:12:55.237 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-09-10.22:12:55.243 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-09-10.22:12:59.810 [background-preinit] INFO  Version                - HV000001: Hibernate Validator 8.0.3.Final
25-09-10.22:12:59.867 [main            ] INFO  AiagemtApplication     - Starting AiagemtApplication using Java 21.0.6 with PID 14780 (D:\java\ai-agent\ai-agent\aiagemt\target\classes started by 32183 in D:\java\ai-agent\ai-agent)
25-09-10.22:12:59.868 [main            ] INFO  AiagemtApplication     - The following 1 profile is active: "dev"
25-09-10.22:13:01.298 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-09-10.22:13:01.312 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-09-10.22:13:01.314 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-09-10.22:13:01.314 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.44]
25-09-10.22:13:01.426 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-09-10.22:13:01.426 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1514 ms
25-09-10.22:13:02.064 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store. Is empty: false
25-09-10.22:13:02.067 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store in schema: public
25-09-10.22:13:02.067 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-09-10.22:13:03.302 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-09-10.22:13:03.322 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path '/'
25-09-10.22:13:03.335 [main            ] INFO  AiagemtApplication     - Started AiagemtApplication in 4.322 seconds (process running for 6.154)
25-09-10.22:13:03.339 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配开始，配置: AiAgentAutoConfigProperties(enabled=true, clientIds=[3001, 3002])
25-09-10.22:13:03.340 [main            ] INFO  AiAgentAutoConfiguration - 开始自动装配AI客户端，客户端ID列表: [3001, 3002]
25-09-10.22:13:03.341 [main            ] INFO  RootNode               - 开始加载数据 commandTypeaiClientLoadDataStrategy
25-09-10.22:13:03.341 [main            ] INFO  ClientLoadDataStrategy - 开始异步加载数据
25-09-10.22:13:03.445 [pool-2-thread-3 ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-09-10.22:13:04.121 [pool-2-thread-3 ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@4b2a9dfb
25-09-10.22:13:04.124 [pool-2-thread-3 ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-09-10.22:13:04.906 [main            ] INFO  ClientLoadDataStrategy - 结束异步加载数据
25-09-10.22:13:04.906 [main            ] INFO  ApiNode                - Ai Agent 构建节点，客户端,ApiNode
25-09-10.22:13:04.908 [main            ] INFO  SpringContextUtil      - 成功注册Bean: ai_client_api_1002
25-09-10.22:13:04.908 [main            ] INFO  ModelNode              - Ai Agent 构建节点，客户端,ModelNode
25-09-10.22:13:04.909 [main            ] INFO  SpringContextUtil      - 成功注册Bean: ai_client_model_2005
25-09-10.22:13:04.909 [main            ] INFO  McpNode                - Ai Agent 构建节点，客户端,McpNode
25-09-10.22:13:05.055 [main            ] INFO  AdvisorNode            - Ai Agent 构建节点，Advisor 顾问角色{"commandIdList":["3001","3002"],"commandType":"aiClientLoadDataStrategy"}
25-09-10.22:13:05.056 [main            ] WARN  AdvisorNode            - 没有需要被初始化的 ai client advisor
25-09-10.22:13:05.056 [main            ] INFO  ClientNode             - Ai Agent 构建节点，客户端ClientNode
25-09-10.22:13:05.064 [main            ] INFO  SpringContextUtil      - 成功注册Bean: ai_client_3001
25-09-10.22:13:05.064 [main            ] ERROR AiAgentAutoConfiguration - AI Agent 自动装配失败
org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'ai_client_tool_mcp_5001' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:977)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1272)
	at com.zj.aiagemt.utils.SpringContextUtil.getBean(SpringContextUtil.java:47)
	at com.zj.aiagemt.service.agent.armory.node.AgentAromorSupport.getBean(AgentAromorSupport.java:37)
	at com.zj.aiagemt.service.agent.armory.node.ClientNode.doApply(ClientNode.java:68)
	at com.zj.aiagemt.service.agent.armory.node.ClientNode.doApply(ClientNode.java:1)
	at com.zj.aiagemt.common.design.ruletree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:38)
	at com.zj.aiagemt.common.design.ruletree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:28)
	at com.zj.aiagemt.service.agent.armory.node.AdvisorNode.doApply(AdvisorNode.java:46)
	at com.zj.aiagemt.service.agent.armory.node.AdvisorNode.doApply(AdvisorNode.java:1)
	at com.zj.aiagemt.common.design.ruletree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:38)
	at com.zj.aiagemt.common.design.ruletree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:28)
	at com.zj.aiagemt.service.agent.armory.node.McpNode.doApply(McpNode.java:53)
	at com.zj.aiagemt.service.agent.armory.node.McpNode.doApply(McpNode.java:27)
	at com.zj.aiagemt.common.design.ruletree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:38)
	at com.zj.aiagemt.common.design.ruletree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:28)
	at com.zj.aiagemt.service.agent.armory.node.ModelNode.doApply(ModelNode.java:47)
	at com.zj.aiagemt.service.agent.armory.node.ModelNode.doApply(ModelNode.java:1)
	at com.zj.aiagemt.common.design.ruletree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:38)
	at com.zj.aiagemt.common.design.ruletree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:28)
	at com.zj.aiagemt.service.agent.armory.node.ApiNode.doApply(ApiNode.java:41)
	at com.zj.aiagemt.service.agent.armory.node.ApiNode.doApply(ApiNode.java:1)
	at com.zj.aiagemt.common.design.ruletree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:38)
	at com.zj.aiagemt.common.design.ruletree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:28)
	at com.zj.aiagemt.service.agent.armory.node.RootNode.doApply(RootNode.java:25)
	at com.zj.aiagemt.service.agent.armory.node.RootNode.doApply(RootNode.java:1)
	at com.zj.aiagemt.common.design.ruletree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:38)
	at com.zj.aiagemt.config.AiAgentAutoConfiguration.onApplicationEvent(AiAgentAutoConfiguration.java:70)
	at com.zj.aiagemt.config.AiAgentAutoConfiguration.onApplicationEvent(AiAgentAutoConfiguration.java:1)
	at com.zj.aiagemt.config.AiAgentAutoConfiguration$$SpringCGLIB$$0.onApplicationEvent(<generated>)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:156)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:454)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:387)
	at org.springframework.boot.context.event.EventPublishingRunListener.ready(EventPublishingRunListener.java:109)
	at org.springframework.boot.SpringApplicationRunListeners.lambda$ready$6(SpringApplicationRunListeners.java:80)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)
	at org.springframework.boot.SpringApplicationRunListeners.ready(SpringApplicationRunListeners.java:80)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:332)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.zj.aiagemt.AiagemtApplication.main(AiagemtApplication.java:16)
25-09-10.22:15:24.452 [SpringApplicationShutdownHook] INFO  GracefulShutdown       - Commencing graceful shutdown. Waiting for active requests to complete
25-09-10.22:15:24.473 [tomcat-shutdown ] INFO  GracefulShutdown       - Graceful shutdown complete
25-09-10.22:15:24.496 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-09-10.22:15:24.505 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-09-10.22:15:35.651 [background-preinit] INFO  Version                - HV000001: Hibernate Validator 8.0.3.Final
25-09-10.22:15:35.709 [main            ] INFO  AiagemtApplicationTests - Starting AiagemtApplicationTests using Java 21.0.6 with PID 80144 (started by 32183 in D:\java\ai-agent\ai-agent\aiagemt)
25-09-10.22:15:35.710 [main            ] INFO  AiagemtApplicationTests - The following 1 profile is active: "dev"
25-09-10.22:15:37.742 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store. Is empty: false
25-09-10.22:15:37.746 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store in schema: public
25-09-10.22:15:37.746 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-09-10.22:15:39.384 [main            ] INFO  AiagemtApplicationTests - Started AiagemtApplicationTests in 4.54 seconds (process running for 6.1)
25-09-10.22:15:39.389 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配开始，配置: AiAgentAutoConfigProperties(enabled=true, clientIds=[3001, 3002])
25-09-10.22:15:39.390 [main            ] INFO  AiAgentAutoConfiguration - 开始自动装配AI客户端，客户端ID列表: [3001, 3002]
25-09-10.22:15:39.392 [main            ] INFO  RootNode               - 开始加载数据 commandTypeaiClientLoadDataStrategy
25-09-10.22:15:39.392 [main            ] INFO  ClientLoadDataStrategy - 开始异步加载数据
25-09-10.22:15:39.518 [pool-2-thread-2 ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-09-10.22:15:40.297 [pool-2-thread-2 ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@59760a5
25-09-10.22:15:40.299 [pool-2-thread-2 ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-09-10.22:15:41.281 [main            ] INFO  ClientLoadDataStrategy - 结束异步加载数据
25-09-10.22:15:41.282 [main            ] INFO  ApiNode                - Ai Agent 构建节点，客户端,ApiNode
25-09-10.22:15:41.284 [main            ] INFO  SpringContextUtil      - 成功注册Bean: ai_client_api_1002
25-09-10.22:15:41.284 [main            ] INFO  ModelNode              - Ai Agent 构建节点，客户端,ModelNode
25-09-10.22:15:41.299 [main            ] INFO  SpringContextUtil      - 成功注册Bean: ai_client_model_2005
25-09-10.22:15:41.299 [main            ] INFO  McpNode                - Ai Agent 构建节点，客户端,McpNode
25-09-10.22:15:41.453 [main            ] INFO  AdvisorNode            - Ai Agent 构建节点，Advisor 顾问角色{"commandIdList":["3001","3002"],"commandType":"aiClientLoadDataStrategy"}
25-09-10.22:15:41.453 [main            ] WARN  AdvisorNode            - 没有需要被初始化的 ai client advisor
25-09-10.22:15:41.453 [main            ] INFO  ClientNode             - Ai Agent 构建节点，客户端ClientNode
25-09-10.22:15:41.460 [main            ] INFO  SpringContextUtil      - 成功注册Bean: ai_client_3001
25-09-10.22:15:41.461 [main            ] ERROR AiAgentAutoConfiguration - AI Agent 自动装配失败
org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'ai_client_tool_mcp_5001' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:977)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1272)
	at com.zj.aiagemt.utils.SpringContextUtil.getBean(SpringContextUtil.java:47)
	at com.zj.aiagemt.service.agent.armory.node.AgentAromorSupport.getBean(AgentAromorSupport.java:37)
	at com.zj.aiagemt.service.agent.armory.node.ClientNode.doApply(ClientNode.java:68)
	at com.zj.aiagemt.service.agent.armory.node.ClientNode.doApply(ClientNode.java:1)
	at com.zj.aiagemt.common.design.ruletree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:38)
	at com.zj.aiagemt.common.design.ruletree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:28)
	at com.zj.aiagemt.service.agent.armory.node.AdvisorNode.doApply(AdvisorNode.java:46)
	at com.zj.aiagemt.service.agent.armory.node.AdvisorNode.doApply(AdvisorNode.java:1)
	at com.zj.aiagemt.common.design.ruletree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:38)
	at com.zj.aiagemt.common.design.ruletree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:28)
	at com.zj.aiagemt.service.agent.armory.node.McpNode.doApply(McpNode.java:53)
	at com.zj.aiagemt.service.agent.armory.node.McpNode.doApply(McpNode.java:27)
	at com.zj.aiagemt.common.design.ruletree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:38)
	at com.zj.aiagemt.common.design.ruletree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:28)
	at com.zj.aiagemt.service.agent.armory.node.ModelNode.doApply(ModelNode.java:47)
	at com.zj.aiagemt.service.agent.armory.node.ModelNode.doApply(ModelNode.java:1)
	at com.zj.aiagemt.common.design.ruletree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:38)
	at com.zj.aiagemt.common.design.ruletree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:28)
	at com.zj.aiagemt.service.agent.armory.node.ApiNode.doApply(ApiNode.java:41)
	at com.zj.aiagemt.service.agent.armory.node.ApiNode.doApply(ApiNode.java:1)
	at com.zj.aiagemt.common.design.ruletree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:38)
	at com.zj.aiagemt.common.design.ruletree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:28)
	at com.zj.aiagemt.service.agent.armory.node.RootNode.doApply(RootNode.java:25)
	at com.zj.aiagemt.service.agent.armory.node.RootNode.doApply(RootNode.java:1)
	at com.zj.aiagemt.common.design.ruletree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:38)
	at com.zj.aiagemt.config.AiAgentAutoConfiguration.onApplicationEvent(AiAgentAutoConfiguration.java:70)
	at com.zj.aiagemt.config.AiAgentAutoConfiguration.onApplicationEvent(AiAgentAutoConfiguration.java:1)
	at com.zj.aiagemt.config.AiAgentAutoConfiguration$$SpringCGLIB$$0.onApplicationEvent(<generated>)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:156)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:454)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:387)
	at org.springframework.boot.context.event.EventPublishingRunListener.ready(EventPublishingRunListener.java:109)
	at org.springframework.boot.SpringApplicationRunListeners.lambda$ready$6(SpringApplicationRunListeners.java:80)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)
	at org.springframework.boot.SpringApplicationRunListeners.ready(SpringApplicationRunListeners.java:80)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:332)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
25-09-10.22:15:42.383 [main            ] INFO  RootNode               - 开始加载数据 commandTypeaiClientLoadDataStrategy
25-09-10.22:15:42.383 [main            ] INFO  ClientLoadDataStrategy - 开始异步加载数据
25-09-10.22:15:42.557 [main            ] INFO  ClientLoadDataStrategy - 结束异步加载数据
25-09-10.22:15:42.558 [main            ] INFO  ApiNode                - Ai Agent 构建节点，客户端,ApiNode
25-09-10.22:15:42.560 [main            ] INFO  SpringContextUtil      - 成功注册Bean: ai_client_api_1002
25-09-10.22:15:42.560 [main            ] INFO  ModelNode              - Ai Agent 构建节点，客户端,ModelNode
25-09-10.22:15:42.561 [main            ] INFO  SpringContextUtil      - 成功注册Bean: ai_client_model_2005
25-09-10.22:15:42.561 [main            ] INFO  McpNode                - Ai Agent 构建节点，客户端,McpNode
25-09-10.22:15:42.561 [main            ] INFO  AdvisorNode            - Ai Agent 构建节点，Advisor 顾问角色{"commandIdList":["3002"],"commandType":"aiClientLoadDataStrategy"}
25-09-10.22:15:42.561 [main            ] WARN  AdvisorNode            - 没有需要被初始化的 ai client advisor
25-09-10.22:15:42.561 [main            ] INFO  ClientNode             - Ai Agent 构建节点，客户端ClientNode
25-09-10.22:15:42.607 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-09-10.22:15:42.871 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-09-10.22:16:07.439 [background-preinit] INFO  Version                - HV000001: Hibernate Validator 8.0.3.Final
25-09-10.22:16:07.510 [main            ] INFO  AiagemtApplicationTests - Starting AiagemtApplicationTests using Java 21.0.6 with PID 83028 (started by 32183 in D:\java\ai-agent\ai-agent\aiagemt)
25-09-10.22:16:07.511 [main            ] INFO  AiagemtApplicationTests - The following 1 profile is active: "dev"
25-09-10.22:16:09.649 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store. Is empty: false
25-09-10.22:16:09.654 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store in schema: public
25-09-10.22:16:09.654 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-09-10.22:16:11.263 [main            ] INFO  AiagemtApplicationTests - Started AiagemtApplicationTests in 4.696 seconds (process running for 6.278)
25-09-10.22:16:11.268 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配开始，配置: AiAgentAutoConfigProperties(enabled=true, clientIds=[3001, 3002])
25-09-10.22:16:11.269 [main            ] INFO  AiAgentAutoConfiguration - 开始自动装配AI客户端，客户端ID列表: [3001, 3002]
25-09-10.22:16:11.271 [main            ] INFO  RootNode               - 开始加载数据 commandTypeaiClientLoadDataStrategy
25-09-10.22:16:11.272 [main            ] INFO  ClientLoadDataStrategy - 开始异步加载数据
25-09-10.22:16:11.408 [pool-2-thread-2 ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-09-10.22:16:13.443 [pool-2-thread-2 ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@3e400d40
25-09-10.22:16:13.445 [pool-2-thread-2 ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-09-10.22:16:14.148 [main            ] INFO  ClientLoadDataStrategy - 结束异步加载数据
25-09-10.22:16:14.148 [main            ] INFO  ApiNode                - Ai Agent 构建节点，客户端,ApiNode
25-09-10.22:16:14.149 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-09-10.22:16:14.151 [main            ] INFO  SpringContextUtil      - 成功注册Bean: ai_client_api_1002
25-09-10.22:16:14.151 [main            ] INFO  ModelNode              - Ai Agent 构建节点，客户端,ModelNode
25-09-10.22:16:14.152 [main            ] ERROR AiAgentAutoConfiguration - AI Agent 自动装配失败
org.springframework.beans.factory.BeanCreationNotAllowedException: Error creating bean with name 'ai_client_api_1002': Singleton bean creation not allowed while singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:303)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1272)
	at com.zj.aiagemt.utils.SpringContextUtil.getBean(SpringContextUtil.java:47)
	at com.zj.aiagemt.service.agent.armory.node.AgentAromorSupport.getBean(AgentAromorSupport.java:37)
	at com.zj.aiagemt.service.agent.armory.node.ModelNode.doApply(ModelNode.java:39)
	at com.zj.aiagemt.service.agent.armory.node.ModelNode.doApply(ModelNode.java:1)
	at com.zj.aiagemt.common.design.ruletree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:38)
	at com.zj.aiagemt.common.design.ruletree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:28)
	at com.zj.aiagemt.service.agent.armory.node.ApiNode.doApply(ApiNode.java:41)
	at com.zj.aiagemt.service.agent.armory.node.ApiNode.doApply(ApiNode.java:1)
	at com.zj.aiagemt.common.design.ruletree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:38)
	at com.zj.aiagemt.common.design.ruletree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:28)
	at com.zj.aiagemt.service.agent.armory.node.RootNode.doApply(RootNode.java:25)
	at com.zj.aiagemt.service.agent.armory.node.RootNode.doApply(RootNode.java:1)
	at com.zj.aiagemt.common.design.ruletree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:38)
	at com.zj.aiagemt.config.AiAgentAutoConfiguration.onApplicationEvent(AiAgentAutoConfiguration.java:70)
	at com.zj.aiagemt.config.AiAgentAutoConfiguration.onApplicationEvent(AiAgentAutoConfiguration.java:1)
	at com.zj.aiagemt.config.AiAgentAutoConfiguration$$SpringCGLIB$$0.onApplicationEvent(<generated>)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:156)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:454)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:387)
	at org.springframework.boot.context.event.EventPublishingRunListener.ready(EventPublishingRunListener.java:109)
	at org.springframework.boot.SpringApplicationRunListeners.lambda$ready$6(SpringApplicationRunListeners.java:80)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)
	at org.springframework.boot.SpringApplicationRunListeners.ready(SpringApplicationRunListeners.java:80)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:332)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
25-09-10.22:16:14.317 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-09-10.22:16:20.570 [background-preinit] INFO  Version                - HV000001: Hibernate Validator 8.0.3.Final
25-09-10.22:16:20.632 [main            ] INFO  AiagemtApplicationTests - Starting AiagemtApplicationTests using Java 21.0.6 with PID 41724 (started by 32183 in D:\java\ai-agent\ai-agent\aiagemt)
25-09-10.22:16:20.633 [main            ] INFO  AiagemtApplicationTests - The following 1 profile is active: "dev"
25-09-10.22:16:23.221 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store. Is empty: false
25-09-10.22:16:23.225 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store in schema: public
25-09-10.22:16:23.225 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-09-10.22:16:25.041 [main            ] INFO  AiagemtApplicationTests - Started AiagemtApplicationTests in 5.477 seconds (process running for 8.147)
25-09-10.22:16:25.047 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配开始，配置: AiAgentAutoConfigProperties(enabled=true, clientIds=[3001, 3002])
25-09-10.22:16:25.048 [main            ] INFO  AiAgentAutoConfiguration - 开始自动装配AI客户端，客户端ID列表: [3001, 3002]
25-09-10.22:16:25.050 [main            ] INFO  RootNode               - 开始加载数据 commandTypeaiClientLoadDataStrategy
25-09-10.22:16:25.050 [main            ] INFO  ClientLoadDataStrategy - 开始异步加载数据
25-09-10.22:16:25.189 [pool-2-thread-3 ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-09-10.22:16:28.371 [pool-2-thread-3 ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@491f5957
25-09-10.22:16:28.373 [pool-2-thread-3 ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-09-10.22:16:29.693 [main            ] INFO  ClientLoadDataStrategy - 结束异步加载数据
25-09-10.22:16:29.693 [main            ] INFO  ApiNode                - Ai Agent 构建节点，客户端,ApiNode
25-09-10.22:16:29.695 [main            ] INFO  SpringContextUtil      - 成功注册Bean: ai_client_api_1002
25-09-10.22:16:29.695 [main            ] INFO  ModelNode              - Ai Agent 构建节点，客户端,ModelNode
25-09-10.22:16:29.696 [main            ] INFO  SpringContextUtil      - 成功注册Bean: ai_client_model_2005
25-09-10.22:16:44.311 [main            ] INFO  McpNode                - Ai Agent 构建节点，客户端,McpNode
25-09-10.22:17:44.063 [MainHikariPool housekeeper] WARN  HikariPool             - MainHikariPool - Thread starvation or clock leap detected (housekeeper delta=1m15s573ms727µs100ns).
25-09-10.22:17:44.289 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-09-10.22:17:44.343 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-09-10.22:17:51.489 [background-preinit] INFO  Version                - HV000001: Hibernate Validator 8.0.3.Final
25-09-10.22:17:51.565 [main            ] INFO  AiagemtApplicationTests - Starting AiagemtApplicationTests using Java 21.0.6 with PID 4780 (started by 32183 in D:\java\ai-agent\ai-agent\aiagemt)
25-09-10.22:17:51.566 [main            ] INFO  AiagemtApplicationTests - The following 1 profile is active: "dev"
25-09-10.22:17:54.448 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store. Is empty: false
25-09-10.22:17:54.452 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store in schema: public
25-09-10.22:17:54.453 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-09-10.22:17:55.631 [main            ] INFO  AiagemtApplicationTests - Started AiagemtApplicationTests in 5.091 seconds (process running for 6.866)
25-09-10.22:17:56.538 [main            ] INFO  RootNode               - 开始加载数据 commandTypeaiClientLoadDataStrategy
25-09-10.22:17:56.539 [main            ] INFO  ClientLoadDataStrategy - 开始异步加载数据
25-09-10.22:18:07.963 [pool-2-thread-4 ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-09-10.22:18:14.909 [pool-2-thread-4 ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@1d635671
25-09-10.22:18:14.912 [pool-2-thread-4 ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-09-10.22:19:05.019 [MainHikariPool housekeeper] WARN  HikariPool             - MainHikariPool - Thread starvation or clock leap detected (housekeeper delta=49s993ms22µs200ns).
25-09-10.22:19:26.221 [MainHikariPool connection adder] ERROR HikariPool             - MainHikariPool - Error thrown while acquiring connection from data source
com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet successfully received from the server was 21,198 milliseconds ago. The last packet sent successfully to the server was 51,861 milliseconds ago.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.ConnectionImpl.isReadOnly(ConnectionImpl.java:1404)
	at com.mysql.cj.jdbc.ConnectionImpl.isReadOnly(ConnectionImpl.java:1389)
	at com.zaxxer.hikari.pool.PoolBase.setupConnection(PoolBase.java:404)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:365)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:202)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:461)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:724)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:703)
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:317)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet successfully received from the server was 21,198 milliseconds ago. The last packet sent successfully to the server was 51,861 milliseconds ago.
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:502)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:486)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:520)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:700)
	at com.mysql.cj.protocol.a.NativeProtocol.sendCommand(NativeProtocol.java:639)
	at com.mysql.cj.protocol.a.NativeProtocol.sendCommand(NativeProtocol.java:137)
	at com.mysql.cj.NativeSession.sendCommand(NativeSession.java:279)
	at com.mysql.cj.NativeSession.queryServerVariable(NativeSession.java:599)
	at com.mysql.cj.jdbc.ConnectionImpl.isReadOnly(ConnectionImpl.java:1396)
	... 12 common frames omitted
Caused by: java.net.SocketTimeoutException: Read timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:278)
	at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:304)
	at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:346)
	at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:796)
	at java.base/java.net.Socket$SocketInputStream.read(Socket.java:1099)
	at com.mysql.cj.protocol.ReadAheadInputStream.fill(ReadAheadInputStream.java:107)
	at com.mysql.cj.protocol.ReadAheadInputStream.readFromUnderlyingStreamIfNecessary(ReadAheadInputStream.java:150)
	at com.mysql.cj.protocol.ReadAheadInputStream.read(ReadAheadInputStream.java:180)
	at java.base/java.io.FilterInputStream.read(FilterInputStream.java:119)
	at com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:64)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeaderLocal(SimplePacketReader.java:81)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45)
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:52)
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:41)
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:54)
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:44)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:514)
	... 18 common frames omitted
25-09-10.22:20:18.625 [pool-2-thread-5 ] WARN  ProxyConnection        - MainHikariPool - Connection com.mysql.cj.jdbc.ConnectionImpl@1d635671 marked as broken because of SQLSTATE(08S01), ErrorCode(0)
com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet successfully received from the server was 32,828 milliseconds ago. The last packet sent successfully to the server was 116,149 milliseconds ago.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:371)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy165.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	at jdk.proxy2/jdk.proxy2.$Proxy80.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.executeForMany(MybatisMapperMethod.java:164)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:77)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$PlainMethodInvoker.invoke(MybatisMapperProxy.java:152)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89)
	at jdk.proxy2/jdk.proxy2.$Proxy94.selectList(Unknown Source)
	at com.baomidou.mybatisplus.core.mapper.BaseMapper.selectOne(BaseMapper.java:222)
	at java.base/java.lang.invoke.MethodHandle.invokeWithArguments(MethodHandle.java:733)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$DefaultMethodInvoker.invoke(MybatisMapperProxy.java:166)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89)
	at jdk.proxy2/jdk.proxy2.$Proxy94.selectOne(Unknown Source)
	at com.baomidou.mybatisplus.core.mapper.BaseMapper.selectOne(BaseMapper.java:211)
	at java.base/java.lang.invoke.MethodHandle.invokeWithArguments(MethodHandle.java:733)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$DefaultMethodInvoker.invoke(MybatisMapperProxy.java:166)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89)
	at jdk.proxy2/jdk.proxy2.$Proxy94.selectOne(Unknown Source)
	at com.zj.aiagemt.mapper.impl.AgentRepository.queryPromptByClientIdS(AgentRepository.java:341)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.zj.aiagemt.mapper.impl.AgentRepository$$SpringCGLIB$$0.queryPromptByClientIdS(<generated>)
	at com.zj.aiagemt.service.agent.armory.strategy.ClientLoadDataStrategy.lambda$4(ClientLoadDataStrategy.java:42)
	at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run$$$capture(CompletableFuture.java:1804)
	at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet successfully received from the server was 32,828 milliseconds ago. The last packet sent successfully to the server was 116,149 milliseconds ago.
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:502)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:486)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:520)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:700)
	at com.mysql.cj.protocol.a.NativeProtocol.sendCommand(NativeProtocol.java:639)
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryPacket(NativeProtocol.java:987)
	at com.mysql.cj.NativeSession.execSQL(NativeSession.java:666)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:930)
	... 53 common frames omitted
Caused by: java.io.EOFException: Can not read response from server. Expected to read 4 bytes, read 0 bytes before connection was unexpectedly lost.
	at com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:67)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeaderLocal(SimplePacketReader.java:81)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45)
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:52)
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:41)
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:54)
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:44)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:514)
	... 58 common frames omitted
25-09-10.22:20:31.254 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-09-10.22:20:31.602 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-09-10.22:20:49.422 [background-preinit] INFO  Version                - HV000001: Hibernate Validator 8.0.3.Final
25-09-10.22:20:49.490 [main            ] INFO  AiagemtApplicationTests - Starting AiagemtApplicationTests using Java 21.0.6 with PID 80564 (started by 32183 in D:\java\ai-agent\ai-agent\aiagemt)
25-09-10.22:20:49.491 [main            ] INFO  AiagemtApplicationTests - The following 1 profile is active: "dev"
25-09-10.22:20:52.978 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store. Is empty: false
25-09-10.22:20:52.983 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store in schema: public
25-09-10.22:20:52.983 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-09-10.22:20:54.464 [main            ] INFO  AiagemtApplicationTests - Started AiagemtApplicationTests in 6.004 seconds (process running for 7.809)
25-09-10.22:20:55.463 [main            ] INFO  RootNode               - 开始加载数据 commandTypeaiClientLoadDataStrategy
25-09-10.22:20:55.467 [main            ] INFO  ClientLoadDataStrategy - 开始异步加载数据
25-09-10.22:20:55.753 [pool-2-thread-6 ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-09-10.22:20:56.260 [pool-2-thread-6 ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@4889212c
25-09-10.22:20:56.263 [pool-2-thread-6 ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-09-10.22:23:02.527 [MainHikariPool housekeeper] WARN  HikariPool             - MainHikariPool - Thread starvation or clock leap detected (housekeeper delta=2m6s158ms768µs900ns).
25-09-10.22:23:02.789 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-09-10.22:23:03.001 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-09-10.22:23:10.554 [background-preinit] INFO  Version                - HV000001: Hibernate Validator 8.0.3.Final
25-09-10.22:23:10.610 [main            ] INFO  AiagemtApplicationTests - Starting AiagemtApplicationTests using Java 21.0.6 with PID 16116 (started by 32183 in D:\java\ai-agent\ai-agent\aiagemt)
25-09-10.22:23:10.611 [main            ] INFO  AiagemtApplicationTests - The following 1 profile is active: "dev"
25-09-10.22:23:13.526 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store. Is empty: false
25-09-10.22:23:13.531 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store in schema: public
25-09-10.22:23:13.531 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-09-10.22:23:14.640 [main            ] INFO  AiagemtApplicationTests - Started AiagemtApplicationTests in 5.048 seconds (process running for 6.957)
25-09-10.22:23:15.541 [main            ] INFO  RootNode               - 开始加载数据 commandTypeaiClientLoadDataStrategy
25-09-10.22:23:15.542 [main            ] INFO  ClientLoadDataStrategy - 开始异步加载数据
25-09-10.22:23:15.681 [pool-2-thread-4 ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-09-10.22:23:16.087 [pool-2-thread-4 ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@7f26aea
25-09-10.22:23:16.089 [pool-2-thread-4 ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-09-10.22:23:16.430 [main            ] INFO  ClientLoadDataStrategy - 结束异步加载数据
25-09-10.22:23:16.430 [main            ] INFO  ApiNode                - Ai Agent 构建节点，客户端,ApiNode
25-09-10.22:23:16.432 [main            ] INFO  SpringContextUtil      - 成功注册Bean: ai_client_api_1002
25-09-10.22:23:16.432 [main            ] INFO  ModelNode              - Ai Agent 构建节点，客户端,ModelNode
25-09-10.22:23:16.433 [main            ] INFO  SpringContextUtil      - 成功注册Bean: ai_client_model_2005
25-09-10.22:23:16.433 [main            ] INFO  McpNode                - Ai Agent 构建节点，客户端,McpNode
25-09-10.22:25:44.566 [MainHikariPool housekeeper] WARN  HikariPool             - MainHikariPool - Thread starvation or clock leap detected (housekeeper delta=52s694ms226µs800ns).
25-09-10.22:25:44.942 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-09-10.22:25:45.255 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-09-10.22:26:38.532 [background-preinit] INFO  Version                - HV000001: Hibernate Validator 8.0.3.Final
25-09-10.22:26:38.595 [main            ] INFO  AiagemtApplicationTests - Starting AiagemtApplicationTests using Java 21.0.6 with PID 10836 (started by 32183 in D:\java\ai-agent\ai-agent\aiagemt)
25-09-10.22:26:38.596 [main            ] INFO  AiagemtApplicationTests - The following 1 profile is active: "dev"
25-09-10.22:26:42.381 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store. Is empty: false
25-09-10.22:26:42.385 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store in schema: public
25-09-10.22:26:42.386 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-09-10.22:26:45.480 [main            ] INFO  AiagemtApplicationTests - Started AiagemtApplicationTests in 8.168 seconds (process running for 10.339)
25-09-10.22:26:47.780 [main            ] INFO  RootNode               - 开始加载数据 commandTypeaiClientLoadDataStrategy
25-09-10.22:26:47.781 [main            ] INFO  ClientLoadDataStrategy - 开始异步加载数据
25-09-10.22:26:48.098 [pool-2-thread-6 ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-09-10.22:26:49.182 [pool-2-thread-6 ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@ccee994
25-09-10.22:26:49.186 [pool-2-thread-6 ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-09-10.22:26:49.870 [main            ] INFO  ClientLoadDataStrategy - 结束异步加载数据
25-09-10.22:26:49.871 [main            ] INFO  ApiNode                - Ai Agent 构建节点，客户端,ApiNode
25-09-10.22:26:49.875 [main            ] INFO  SpringContextUtil      - 成功注册Bean: ai_client_api_1002
25-09-10.22:26:49.876 [main            ] INFO  ModelNode              - Ai Agent 构建节点，客户端,ModelNode
25-09-10.22:26:49.880 [main            ] INFO  SpringContextUtil      - 成功注册Bean: ai_client_model_2005
25-09-10.22:26:49.880 [main            ] INFO  McpNode                - Ai Agent 构建节点，客户端,McpNode
25-09-10.22:27:15.821 [HttpClient-1-Worker-1] INFO  McpAsyncClient         - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=null, experimental=null, logging=LoggingCapabilities[], prompts=null, resources=ResourceCapabilities[subscribe=true, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=csdn, version=1.0.0] and Instructions null
25-09-10.22:27:15.897 [main            ] INFO  McpNode                - Tool SSE MCP Initialized InitializeResult[protocolVersion=2024-11-05, capabilities=ServerCapabilities[completions=null, experimental=null, logging=LoggingCapabilities[], prompts=null, resources=ResourceCapabilities[subscribe=true, listChanged=true], tools=ToolCapabilities[listChanged=true]], serverInfo=Implementation[name=csdn, version=1.0.0], instructions=null]
25-09-10.22:27:15.901 [main            ] INFO  SpringContextUtil      - 成功注册Bean: ai_client_tool_mcp_5001
25-09-10.22:27:16.121 [main            ] INFO  AdvisorNode            - Ai Agent 构建节点，Advisor 顾问角色{"commandIdList":["3002"],"commandType":"aiClientLoadDataStrategy"}
25-09-10.22:27:16.121 [main            ] WARN  AdvisorNode            - 没有需要被初始化的 ai client advisor
25-09-10.22:27:16.121 [main            ] INFO  ClientNode             - Ai Agent 构建节点，客户端ClientNode
25-09-10.22:27:16.260 [main            ] INFO  SpringContextUtil      - 成功注册Bean: ai_client_3002
25-09-10.22:27:16.305 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-09-10.22:27:16.488 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-09-10.22:28:38.960 [background-preinit] INFO  Version                - HV000001: Hibernate Validator 8.0.3.Final
25-09-10.22:28:39.026 [main            ] INFO  AiagemtApplication     - Starting AiagemtApplication using Java 21.0.6 with PID 2316 (D:\java\ai-agent\ai-agent\aiagemt\target\classes started by 32183 in D:\java\ai-agent\ai-agent)
25-09-10.22:28:39.028 [main            ] INFO  AiagemtApplication     - The following 1 profile is active: "dev"
25-09-10.22:28:40.492 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-09-10.22:28:40.515 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-09-10.22:28:40.517 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-09-10.22:28:40.517 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.44]
25-09-10.22:28:40.638 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-09-10.22:28:40.638 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1560 ms
25-09-10.22:28:41.683 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store. Is empty: false
25-09-10.22:28:41.686 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store in schema: public
25-09-10.22:28:41.686 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-09-10.22:28:42.463 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-09-10.22:28:42.481 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path '/'
25-09-10.22:28:42.491 [main            ] INFO  AiagemtApplication     - Started AiagemtApplication in 4.249 seconds (process running for 5.539)
25-09-10.22:29:08.964 [SpringApplicationShutdownHook] INFO  GracefulShutdown       - Commencing graceful shutdown. Waiting for active requests to complete
25-09-10.22:29:08.996 [tomcat-shutdown ] INFO  GracefulShutdown       - Graceful shutdown complete
25-09-10.22:29:15.188 [background-preinit] INFO  Version                - HV000001: Hibernate Validator 8.0.3.Final
25-09-10.22:29:15.252 [main            ] INFO  AiagemtApplication     - Starting AiagemtApplication using Java 21.0.6 with PID 22680 (D:\java\ai-agent\ai-agent\aiagemt\target\classes started by 32183 in D:\java\ai-agent\ai-agent)
25-09-10.22:29:15.253 [main            ] INFO  AiagemtApplication     - The following 1 profile is active: "dev"
25-09-10.22:29:16.613 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-09-10.22:29:16.628 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-09-10.22:29:16.629 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-09-10.22:29:16.629 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.44]
25-09-10.22:29:16.734 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-09-10.22:29:16.734 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1437 ms
25-09-10.22:29:17.279 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store. Is empty: false
25-09-10.22:29:17.283 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store in schema: public
25-09-10.22:29:17.283 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-09-10.22:29:18.446 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-09-10.22:29:18.466 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path '/'
25-09-10.22:29:18.477 [main            ] INFO  AiagemtApplication     - Started AiagemtApplication in 4.07 seconds (process running for 5.321)
25-09-10.22:29:18.481 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配开始，配置: AiAgentAutoConfigProperties(enabled=true, clientIds=[3001, 3002])
25-09-10.22:29:18.482 [main            ] INFO  AiAgentAutoConfiguration - 开始自动装配AI客户端，客户端ID列表: [3001, 3002]
25-09-10.22:29:18.483 [main            ] INFO  RootNode               - 开始加载数据 commandTypeaiClientLoadDataStrategy
25-09-10.22:29:18.483 [main            ] INFO  ClientLoadDataStrategy - 开始异步加载数据
25-09-10.22:29:18.591 [pool-2-thread-1 ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-09-10.22:29:19.208 [pool-2-thread-1 ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@eb1980e
25-09-10.22:29:19.211 [pool-2-thread-1 ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-09-10.22:29:19.958 [main            ] INFO  ClientLoadDataStrategy - 结束异步加载数据
25-09-10.22:29:19.958 [main            ] INFO  ApiNode                - Ai Agent 构建节点，客户端,ApiNode
25-09-10.22:29:19.961 [main            ] INFO  SpringContextUtil      - 成功注册Bean: ai_client_api_1002
25-09-10.22:29:19.961 [main            ] INFO  ModelNode              - Ai Agent 构建节点，客户端,ModelNode
25-09-10.22:29:19.962 [main            ] INFO  SpringContextUtil      - 成功注册Bean: ai_client_model_2005
25-09-10.22:29:19.962 [main            ] INFO  McpNode                - Ai Agent 构建节点，客户端,McpNode
25-09-10.22:29:20.377 [HttpClient-1-Worker-0] INFO  McpAsyncClient         - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=null, experimental=null, logging=LoggingCapabilities[], prompts=null, resources=ResourceCapabilities[subscribe=true, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=csdn, version=1.0.0] and Instructions null
25-09-10.22:29:20.450 [main            ] INFO  McpNode                - Tool SSE MCP Initialized InitializeResult[protocolVersion=2024-11-05, capabilities=ServerCapabilities[completions=null, experimental=null, logging=LoggingCapabilities[], prompts=null, resources=ResourceCapabilities[subscribe=true, listChanged=true], tools=ToolCapabilities[listChanged=true]], serverInfo=Implementation[name=csdn, version=1.0.0], instructions=null]
25-09-10.22:29:20.452 [main            ] INFO  SpringContextUtil      - 成功注册Bean: ai_client_tool_mcp_5001
25-09-10.22:29:20.576 [main            ] INFO  AdvisorNode            - Ai Agent 构建节点，Advisor 顾问角色{"commandIdList":["3001","3002"],"commandType":"aiClientLoadDataStrategy"}
25-09-10.22:29:20.577 [main            ] WARN  AdvisorNode            - 没有需要被初始化的 ai client advisor
25-09-10.22:29:20.577 [main            ] INFO  ClientNode             - Ai Agent 构建节点，客户端ClientNode
25-09-10.22:29:20.583 [main            ] INFO  SpringContextUtil      - 成功注册Bean: ai_client_3001
25-09-10.22:29:20.675 [main            ] INFO  SpringContextUtil      - 成功注册Bean: ai_client_3002
25-09-10.22:29:20.676 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配完成，结果: AgentArmoryVO(dynamicContext=DefaultAgentArmoryFactory.DynamicContext(dataObjects={ai_client_api_data_list=[AiClientApiVO(apiId=1002, baseUrl=https://api.deepseek.com, apiKey=sk-913c967554c44c3ea3182be9cffb74b8, completionsPath=1, embeddingsPath=1)], ai_client_advisor_data_list=[], ai_client_model_data_list=[AiClientModelVO(modelId=2005, apiId=1002, modelName=deepseek-chat, modelType=openai, toolMcpIds=[])], ai_client_tool_mcp_data_list=[AiClientToolMcpVO(mcpId=5001, mcpName=CSDN自动发帖, transportType=sse, transportConfig={
	"baseUri":"http://117.72.152.117:8081",
        "sseEndpoint":"/csdn/sse",
        "headers" : "zj669"
}
, requestTimeout=180, transportConfigSse=AiClientToolMcpVO.TransportConfigSse(baseUri=http://117.72.152.117:8081, sseEndpoint=/csdn/sse, headers=zj669), transportConfigStdio=null)], ai_client_system_prompt_data_list={6003=AiClientSystemPromptVO(promptId=6003, promptName=CSDN发布文章, promptContent=我需要你帮我生成一篇文章，要求如下；
                                
                1. 场景为互联网大厂java求职者面试
                2. 面试管提问 Java 核心知识、JUC、JVM、多线程、线程池、HashMap、ArrayList、Spring、SpringBoot、MyBatis、Dubbo、RabbitMQ、xxl-job、Redis、MySQL、Linux、Docker、设计模式、DDD等不限于此的各项技术问题。
                3. 按照故事场景，以严肃的面试官和搞笑的水货程序员谢飞机进行提问，谢飞机对简单问题可以回答，回答好了面试官还会夸赞。复杂问题胡乱回答，回答的不清晰。
                4. 每次进行3轮提问，每轮可以有3-5个问题。这些问题要有技术业务场景上的衔接性，循序渐进引导提问。最后是面试官让程序员回家等通知类似的话术。
                5. 提问后把问题的答案，写到文章最后，最后的答案要详细讲述出技术点，让小白可以学习下来。
                                
                根据以上内容，不要阐述其他信息，请直接提供；文章标题、文章内容、文章标签（多个用英文逗号隔开）、文章简述（100字）
                                
                将以上内容发布文章到CSDN。, description=CSDN发布文章)}, ai_client_data_list=[AiClientVO(clientId=3001, clientName=test, description=尝试了解数据库, modelId=2005, promptIdList=[], mcpIdList=[], advisorIdList=[]), AiClientVO(clientId=3002, clientName=自动发帖和通知, description=自动生成CSDN文章, modelId=2005, promptIdList=[6003], mcpIdList=[5001], advisorIdList=[])]}))
25-09-10.22:31:00.489 [http-nio-8091-exec-1] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-09-10.22:31:00.489 [http-nio-8091-exec-1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-09-10.22:31:00.490 [http-nio-8091-exec-1] INFO  DispatcherServlet      - Completed initialization in 1 ms
25-09-10.22:31:00.528 [http-nio-8091-exec-1] INFO  CSDNPublishTask        - 
>>> QUESTION: # Java面试场景文章生成

## 角色设定
你是一个专业的技术内容生成助手，擅长创作互联网大厂Java面试场景的技术文章。

## 核心任务
根据以下指定的技术栈和业务场景，生成一篇以面试对话形式展现的Java技术文章，包含面试过程和详细的技术解析。

## 本次指定内容

### 🛠️ 技术栈重点 (深度挖掘以下2个领域,专注于其中3-5个技术栈即可)
CI/CD工具: Jenkins, GitLab CI, GitHub Actions, Docker, Kubernetes
测试框架: JUnit 5, TestNG, Mockito, PowerMock, AssertJ, Selenium, Cucumber

### 🏢 业务场景背景
电竞平台

## 文章结构要求

### 1. 基础框架
- **场景背景**: 互联网大厂Java开发工程师面试
- **主要角色**: 
  - 严肃专业的面试官（技术专家）
  - 搞笑但技术基础不扎实的程序员"小润龙"
- **面试流程**: 3轮提问，每轮3-5个问题，循序渐进

### 2. 对话风格要求

#### 面试官特征：
- 严肃专业，逻辑清晰
- 问题具有层次性和递进性
- 对正确答案给予肯定和引导
- 对模糊回答追根问底
- 最终给出面试结果反馈

#### 小润龙特征：
- 对基础问题能够回答
- 遇到复杂问题开始含糊其辞
- 偶尔有搞笑的回答或比喻
- 技术理解有偏差但有一定基础
- 表现出紧张但努力的状态

### 3. 问题设计原则
- **循序渐进**: 从基础概念到实际应用再到性能优化
- **业务结合**: 每个技术问题都要结合电竞平台业务场景
- **深度挖掘**: 专注于CI/CD工具和测试框架的深入探讨
- **实战导向**: 问题要贴近实际开发中的真实挑战

### 4. 文章输出格式

#### 标准Markdown结构：
```markdown
# 【文章标题】## 📋 面试背景
[简要介绍面试场景、公司背景、岗位要求]

## 🎭 面试实录

### 第一轮：基础概念考查
[3-5个基础问题的对话]

### 第二轮：实际应用场景
[3-5个应用层面问题的对话]

### 第三轮：性能优化与架构设计
[3-5个高级问题的对话]

### 面试结果
[面试官的最终反馈]

## 📚 技术知识点详解

### [知识点1]
[详细的技术解析，包含代码示例、架构图等]

### [知识点2]
[详细的技术解析，包含最佳实践、注意事项等]

### [知识点N]
[详细的技术解析，适合小白学习]

## 💡 总结与建议
[针对面试中出现的问题，给出学习建议和技术成长路径]
```

### 5. 内容质量要求
- **技术准确性**: 确保所有技术内容准确无误
- **实用性**: 提供可落地的技术方案和代码示例
- **教育性**: 详解部分要让技术小白也能理解
- **趣味性**: 通过对话形式增加阅读趣味性
- **完整性**: 从面试到知识点解析的完整闭环

### 6. 特殊要求
- 每个技术问题都要有对应的详细解析
- 代码示例要完整且可执行, 必要时使用context7工具去搜索相关技术文档
- 避免过于宽泛，专注深度挖掘
- 文章内容使用markdown格式书写

## 输出指令
请严格按照上述要求，基于指定的技术栈"CI/CD工具和测试框架"以及业务场景"电竞平台"，生成一篇高质量的Java面试技术文章，确保内容的专业性、实用性和可读性。
，不要阐述其他信息，请直接提供；文章标题（需要含带技术点）、文章内容、文章标签（多个用英文逗号隔开）、文章简述（100字），并发布到csdn
25-09-10.22:33:40.512 [http-nio-8091-exec-1] INFO  CSDNPublishTask        - 
>>> ANSWER: 文章已成功发布到CSDN！

**发布详情：**
- 文章标题：Java面试实录：CI/CD与测试框架在电竞平台的深度应用
- 文章链接：https://blog.csdn.net/2303_76177839/article/details/151444525
- 文章ID：151444525

**文章特色：**
1. **生动对话形式**：通过严肃面试官和搞笑程序员小润龙的对话，生动展现技术面试场景
2. **深度技术解析**：详细讲解了Jenkins Pipeline、JUnit 5、Docker容器化、Mockito测试等核心技术
3. **业务场景结合**：所有技术问题都紧密结合电竞平台的实际业务需求
4. **完整代码示例**：提供了可落地的代码示例和最佳实践
5. **循序渐进**：从基础概念到高级应用，再到性能优化，层次分明

文章既有趣味性又有技术深度，适合Java开发者学习CI/CD和测试框架的相关知识。
25-09-10.22:35:24.983 [SpringApplicationShutdownHook] INFO  GracefulShutdown       - Commencing graceful shutdown. Waiting for active requests to complete
25-09-10.22:35:25.005 [tomcat-shutdown ] INFO  GracefulShutdown       - Graceful shutdown complete
25-09-10.22:35:27.078 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-09-10.22:35:27.085 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-09-10.22:35:33.499 [background-preinit] INFO  Version                - HV000001: Hibernate Validator 8.0.3.Final
25-09-10.22:35:33.557 [main            ] INFO  AiagemtApplication     - Starting AiagemtApplication using Java 21.0.6 with PID 81564 (D:\java\ai-agent\ai-agent\aiagemt\target\classes started by 32183 in D:\java\ai-agent\ai-agent)
25-09-10.22:35:33.558 [main            ] INFO  AiagemtApplication     - The following 1 profile is active: "dev"
25-09-10.22:35:34.881 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-09-10.22:35:34.896 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-09-10.22:35:34.898 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-09-10.22:35:34.898 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.44]
25-09-10.22:35:35.022 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-09-10.22:35:35.022 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1416 ms
25-09-10.22:35:35.554 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store. Is empty: false
25-09-10.22:35:35.557 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store in schema: public
25-09-10.22:35:35.558 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-09-10.22:35:36.675 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-09-10.22:35:36.693 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path '/'
25-09-10.22:35:36.717 [main            ] INFO  AiagemtApplication     - Started AiagemtApplication in 3.913 seconds (process running for 4.851)
25-09-10.22:35:36.722 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配开始，配置: AiAgentAutoConfigProperties(enabled=true, clientIds=[3001, 3002])
25-09-10.22:35:36.722 [main            ] INFO  AiAgentAutoConfiguration - 开始自动装配AI客户端，客户端ID列表: [3001, 3002]
25-09-10.22:35:36.724 [main            ] INFO  RootNode               - 开始加载数据 commandTypeaiClientLoadDataStrategy
25-09-10.22:35:36.724 [main            ] INFO  ClientLoadDataStrategy - 开始异步加载数据
25-09-10.22:35:36.805 [pool-2-thread-4 ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-09-10.22:35:37.029 [scheduling-1    ] INFO  CSDNPublishTask        - ：CI/CD与测试框架在电竞平台的深度应用
25-09-10.22:35:37.400 [pool-2-thread-4 ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@46452921
25-09-10.22:35:37.402 [pool-2-thread-4 ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-09-10.22:35:38.000 [scheduling-1    ] INFO  CSDNPublishTask        - ：CI/CD与测试框架在电竞平台的深度应用
25-09-10.22:35:38.054 [main            ] INFO  ClientLoadDataStrategy - 结束异步加载数据
25-09-10.22:35:38.054 [main            ] INFO  ApiNode                - Ai Agent 构建节点，客户端,ApiNode
25-09-10.22:35:38.056 [main            ] INFO  SpringContextUtil      - 成功注册Bean: ai_client_api_1002
25-09-10.22:35:38.056 [main            ] INFO  ModelNode              - Ai Agent 构建节点，客户端,ModelNode
25-09-10.22:35:38.057 [main            ] INFO  SpringContextUtil      - 成功注册Bean: ai_client_model_2005
25-09-10.22:35:38.057 [main            ] INFO  McpNode                - Ai Agent 构建节点，客户端,McpNode
25-09-10.22:35:38.482 [HttpClient-1-Worker-0] INFO  McpAsyncClient         - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=null, experimental=null, logging=LoggingCapabilities[], prompts=null, resources=ResourceCapabilities[subscribe=true, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=csdn, version=1.0.0] and Instructions null
25-09-10.22:35:38.612 [main            ] INFO  McpNode                - Tool SSE MCP Initialized InitializeResult[protocolVersion=2024-11-05, capabilities=ServerCapabilities[completions=null, experimental=null, logging=LoggingCapabilities[], prompts=null, resources=ResourceCapabilities[subscribe=true, listChanged=true], tools=ToolCapabilities[listChanged=true]], serverInfo=Implementation[name=csdn, version=1.0.0], instructions=null]
25-09-10.22:35:38.614 [main            ] INFO  SpringContextUtil      - 成功注册Bean: ai_client_tool_mcp_5001
25-09-10.22:35:38.956 [HttpClient-2-Worker-2] INFO  McpAsyncClient         - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=null, experimental=null, logging=LoggingCapabilities[], prompts=null, resources=ResourceCapabilities[subscribe=true, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=context7, version=1.0.0] and Instructions null
25-09-10.22:35:39.003 [scheduling-1    ] INFO  CSDNPublishTask        - ：CI/CD与测试框架在电竞平台的深度应用
25-09-10.22:35:39.256 [main            ] INFO  McpNode                - Tool SSE MCP Initialized InitializeResult[protocolVersion=2024-11-05, capabilities=ServerCapabilities[completions=null, experimental=null, logging=LoggingCapabilities[], prompts=null, resources=ResourceCapabilities[subscribe=true, listChanged=true], tools=ToolCapabilities[listChanged=true]], serverInfo=Implementation[name=context7, version=1.0.0], instructions=null]
25-09-10.22:35:39.256 [main            ] INFO  SpringContextUtil      - 成功注册Bean: ai_client_tool_mcp_5003
25-09-10.22:35:39.371 [main            ] INFO  AdvisorNode            - Ai Agent 构建节点，Advisor 顾问角色{"commandIdList":["3001","3002"],"commandType":"aiClientLoadDataStrategy"}
25-09-10.22:35:39.371 [main            ] WARN  AdvisorNode            - 没有需要被初始化的 ai client advisor
25-09-10.22:35:39.372 [main            ] INFO  ClientNode             - Ai Agent 构建节点，客户端ClientNode
25-09-10.22:35:39.378 [main            ] INFO  SpringContextUtil      - 成功注册Bean: ai_client_3001
25-09-10.22:35:39.556 [main            ] INFO  SpringContextUtil      - 成功注册Bean: ai_client_3002
25-09-10.22:35:39.557 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配完成，结果: AgentArmoryVO(dynamicContext=DefaultAgentArmoryFactory.DynamicContext(dataObjects={ai_client_api_data_list=[AiClientApiVO(apiId=1002, baseUrl=https://api.deepseek.com, apiKey=sk-913c967554c44c3ea3182be9cffb74b8, completionsPath=1, embeddingsPath=1)], ai_client_advisor_data_list=[], ai_client_model_data_list=[AiClientModelVO(modelId=2005, apiId=1002, modelName=deepseek-chat, modelType=openai, toolMcpIds=[])], ai_client_tool_mcp_data_list=[AiClientToolMcpVO(mcpId=5001, mcpName=CSDN自动发帖, transportType=sse, transportConfig={
	"baseUri":"http://117.72.152.117:8081",
        "sseEndpoint":"/csdn/sse",
        "headers" : "zj669"
}
, requestTimeout=180, transportConfigSse=AiClientToolMcpVO.TransportConfigSse(baseUri=http://117.72.152.117:8081, sseEndpoint=/csdn/sse, headers=zj669), transportConfigStdio=null), AiClientToolMcpVO(mcpId=5003, mcpName=context7, transportType=sse, transportConfig={
	"baseUri":"http://117.72.152.117:8081",
        "sseEndpoint":"/context7/sse",
        "headers" : "zj669"
}
, requestTimeout=180, transportConfigSse=AiClientToolMcpVO.TransportConfigSse(baseUri=http://117.72.152.117:8081, sseEndpoint=/context7/sse, headers=zj669), transportConfigStdio=null)], ai_client_system_prompt_data_list={6003=AiClientSystemPromptVO(promptId=6003, promptName=CSDN发布文章, promptContent=我需要你帮我生成一篇文章，要求如下；
                                
                1. 场景为互联网大厂java求职者面试
                2. 面试管提问 Java 核心知识、JUC、JVM、多线程、线程池、HashMap、ArrayList、Spring、SpringBoot、MyBatis、Dubbo、RabbitMQ、xxl-job、Redis、MySQL、Linux、Docker、设计模式、DDD等不限于此的各项技术问题。
                3. 按照故事场景，以严肃的面试官和搞笑的水货程序员谢飞机进行提问，谢飞机对简单问题可以回答，回答好了面试官还会夸赞。复杂问题胡乱回答，回答的不清晰。
                4. 每次进行3轮提问，每轮可以有3-5个问题。这些问题要有技术业务场景上的衔接性，循序渐进引导提问。最后是面试官让程序员回家等通知类似的话术。
                5. 提问后把问题的答案，写到文章最后，最后的答案要详细讲述出技术点，让小白可以学习下来。
                                
                根据以上内容，不要阐述其他信息，请直接提供；文章标题、文章内容、文章标签（多个用英文逗号隔开）、文章简述（100字）
                                
                将以上内容发布文章到CSDN。, description=CSDN发布文章)}, ai_client_data_list=[AiClientVO(clientId=3001, clientName=test, description=尝试了解数据库, modelId=2005, promptIdList=[], mcpIdList=[], advisorIdList=[]), AiClientVO(clientId=3002, clientName=自动发帖和通知, description=自动生成CSDN文章, modelId=2005, promptIdList=[6003], mcpIdList=[5001, 5003], advisorIdList=[])]}))
25-09-10.22:35:40.010 [scheduling-1    ] INFO  CSDNPublishTask        - ：CI/CD与测试框架在电竞平台的深度应用
25-09-10.22:35:41.013 [scheduling-1    ] INFO  CSDNPublishTask        - ：CI/CD与测试框架在电竞平台的深度应用
25-09-10.22:35:42.004 [scheduling-1    ] INFO  CSDNPublishTask        - ：CI/CD与测试框架在电竞平台的深度应用
25-09-10.22:35:43.008 [scheduling-1    ] INFO  CSDNPublishTask        - ：CI/CD与测试框架在电竞平台的深度应用
25-09-10.22:35:44.014 [scheduling-1    ] INFO  CSDNPublishTask        - ：CI/CD与测试框架在电竞平台的深度应用
25-09-10.22:35:45.002 [scheduling-1    ] INFO  CSDNPublishTask        - ：CI/CD与测试框架在电竞平台的深度应用
25-09-10.22:35:46.010 [scheduling-1    ] INFO  CSDNPublishTask        - ：CI/CD与测试框架在电竞平台的深度应用
25-09-10.22:35:47.003 [scheduling-1    ] INFO  CSDNPublishTask        - ：CI/CD与测试框架在电竞平台的深度应用
25-09-10.22:35:48.014 [scheduling-1    ] INFO  CSDNPublishTask        - ：CI/CD与测试框架在电竞平台的深度应用
25-09-10.22:35:49.007 [scheduling-1    ] INFO  CSDNPublishTask        - ：CI/CD与测试框架在电竞平台的深度应用
25-09-10.22:35:49.413 [SpringApplicationShutdownHook] INFO  GracefulShutdown       - Commencing graceful shutdown. Waiting for active requests to complete
25-09-10.22:35:49.436 [tomcat-shutdown ] INFO  GracefulShutdown       - Graceful shutdown complete
25-09-10.22:35:49.445 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-09-10.22:35:49.452 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
